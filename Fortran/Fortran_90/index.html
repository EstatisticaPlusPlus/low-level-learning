
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Fortran_77/">
      
      
        <link rel="next" href="../../Julia/capitulo_1/">
      
      
      <link rel="icon" href="../../assets/estatisticamaismais_logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Fortran 90 - Estatística++</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#capitulo-1-introducao" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Estatística++" class="md-header__button md-logo" aria-label="Estatística++" data-md-component="logo">
      
  <img src="../../assets/estatisticamaismais_logo_branco_transparente.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Estatística++
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Fortran 90
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/EstatisticaPlusPlus/low-level-learning" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    EstatisticaPlusPlus/low-level-learning
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Estatística++" class="md-nav__button md-logo" aria-label="Estatística++" data-md-component="logo">
      
  <img src="../../assets/estatisticamaismais_logo_branco_transparente.png" alt="logo">

    </a>
    Estatística++
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EstatisticaPlusPlus/low-level-learning" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    EstatisticaPlusPlus/low-level-learning
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sobre
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Autotools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Autotools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autotools/capitulo_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introdução e Instalação
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autotools/capitulo_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Arquivo Básico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autotools/capitulo_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Checagem de Compiladores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autotools/capitulo_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Verificação de Bibliotecas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autotools/capitulo_5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Verificação de Tipos e Funções
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Autotools/capitulo_6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Verificação de Padrões de Linguagem
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/capitulo_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introdução
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/capitulo_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Compilando Programas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/capitulo_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Flags do Compilador
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/capitulo_4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Depuração
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/capitulo_5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Componentes do Compilador
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/capitulo_6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Compilando com Otimização
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C/gloss%C3%A1rio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossário
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/1_introducao/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introdução
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/2_variaveis_e_tipos_de_dados/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variáveis e Tipos de Dados
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/3_entrada_e_saida/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entrada e Saída
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/4_operadores/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operadores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/5_operadores_relacionais/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operadores Relacionais
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/6_operadores_logicos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Operadores Lógicos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/7_fluxo_de_controle_1_condicionais/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluxo de Controle 1 - Condicionais
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../C%2B%2B/8_fluxo_de_controle_2_loops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fluxo de Controle 2 - Loops
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Fortran
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Fortran
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Fortran_77/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fortran 77
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Fortran 90
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Fortran 90
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caracteristicas-da-linguagem" class="md-nav__link">
    <span class="md-ellipsis">
      Características da linguagem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Características da linguagem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparativo-fortran-77-fixed-form-vs-fortran-90-free-form" class="md-nav__link">
    <span class="md-ellipsis">
      Comparativo: FORTRAN 77 (fixed-form) vs FORTRAN 90 (free-form)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-1-compilacao-arquivo-fonte-e-arquivo-executavel" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 1: Compilação, arquivo fonte e arquivo executável
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 1: Compilação, arquivo fonte e arquivo executável">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-instalar-um-compilador-gfortran" class="md-nav__link">
    <span class="md-ellipsis">
      Como instalar um compilador (gfortran)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Como instalar um compilador (gfortran)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-linux" class="md-nav__link">
    <span class="md-ellipsis">
      No Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-windows" class="md-nav__link">
    <span class="md-ellipsis">
      No Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-compilar-um-codigo-fonte-utilizando-o-compilador" class="md-nav__link">
    <span class="md-ellipsis">
      Como compilar um código-fonte utilizando o compilador
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Como compilar um código-fonte utilizando o compilador">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flags-de-compilacao" class="md-nav__link">
    <span class="md-ellipsis">
      Flags de Compilação
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executando-o-arquivo-executavel-gerado-pela-compilacao" class="md-nav__link">
    <span class="md-ellipsis">
      Executando o arquivo executável gerado pela compilação
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-2-estrutura-basica-de-um-programa-print-simples-variaveis-e-operacoes-basicas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 2: Estrutura básica de um programa, print simples, variáveis e operações básicas.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 2: Estrutura básica de um programa, print simples, variáveis e operações básicas.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-21-variaveis" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 2.1: Variáveis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 2.1: Variáveis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#precisao-de-variaveis" class="md-nav__link">
    <span class="md-ellipsis">
      Precisão de Variáveis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-22-operacoes-basicas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 2.2: Operações Básicas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 2.2: Operações Básicas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comentarios" class="md-nav__link">
    <span class="md-ellipsis">
      Comentários
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-3-funcoes-e-modulos" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3: Funções e Módulos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 3: Funções e Módulos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-31-funcoes" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3.1: Funções
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-32-funcoes-intrinsecas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3.2: Funções Intrínsecas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-33-modulos" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3.3: Módulos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-4-estruturas-condicionais-if-then-else" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 4: Estruturas Condicionais: IF - THEN - ELSE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 4: Estruturas Condicionais: IF - THEN - ELSE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-41-operadores-logicos" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 4.1: Operadores Lógicos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-42-comando-if-then-else" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 4.2: Comando IF-THEN-ELSE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-5-repeticao-comando-do" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 5: Repetição - Comando DO
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-6-subrotinas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 6: Subrotinas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-7-construindo-o-metodo-da-bissecao" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 7: Construindo o Método da Bisseção
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 7: Construindo o Método da Bisseção">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-71-arquitetando-o-codigo" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 7.1: Arquitetando o código
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 7.1: Arquitetando o código">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-comecamos-informando-a-funcao-que-queremos-encontrar-o-0-e-o-intervalo-onde-iremos-comecar-a-busca" class="md-nav__link">
    <span class="md-ellipsis">
      1. Começamos informando a função que queremos encontrar o 0, e o intervalo onde iremos começar a busca
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-calculamos-o-ponto-medio-do-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      2. Calculamos o ponto médio do intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-verificamos-se-a-funcao-neste-ponto-e-0" class="md-nav__link">
    <span class="md-ellipsis">
      3. Verificamos se a função neste ponto é 0.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-se-sim-retornamos-este-ponto-e-terminamos" class="md-nav__link">
    <span class="md-ellipsis">
      4. Se sim, retornamos este ponto e terminamos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-se-nao-analisamos-o-sinal-da-funcao-neste-ponto-e-determinamos-um-novo-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      5. Se não, analisamos o sinal da função neste ponto e determinamos um novo intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-repetimos-a-partir-do-passo-2-ate-um-criterio-de-parada-como-um-numero-maximo-de-passos-para-evitarmos-um-loop-infinito" class="md-nav__link">
    <span class="md-ellipsis">
      6. Repetimos, a partir do passo 2, até um critério de parada (como um número máximo de passos), para evitarmos um loop infinito.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#especificacao-do-item-5" class="md-nav__link">
    <span class="md-ellipsis">
      Especificação do item 5
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Especificação do item 5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-calcular-o-ponto-medio-do-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Calcular o ponto médio do intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-calcular-finf-e-fc" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Calcular f(inf) e f(c)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-testar-sinal-e-determinar-um-novo-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Testar sinal e determinar um novo intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-determinar-outro-novo-intervalo-caso-o-primeiro-teste-tenha-falhado" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Determinar outro novo intervalo caso o primeiro teste tenha falhado
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-72-codigo-final" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 7.2: Código Final
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 7.2: Código Final">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testes" class="md-nav__link">
    <span class="md-ellipsis">
      Testes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-8-formatacao-de-saidas-write" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 8: Formatação de Saídas: WRITE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-9-repeticao-do-while" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 9: Repetição: DO - WHILE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-10-imports-e-linkagem" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 10: Imports e Linkagem
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Julia
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Julia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Julia/capitulo_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introdução
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caracteristicas-da-linguagem" class="md-nav__link">
    <span class="md-ellipsis">
      Características da linguagem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Características da linguagem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparativo-fortran-77-fixed-form-vs-fortran-90-free-form" class="md-nav__link">
    <span class="md-ellipsis">
      Comparativo: FORTRAN 77 (fixed-form) vs FORTRAN 90 (free-form)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-1-compilacao-arquivo-fonte-e-arquivo-executavel" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 1: Compilação, arquivo fonte e arquivo executável
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 1: Compilação, arquivo fonte e arquivo executável">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#como-instalar-um-compilador-gfortran" class="md-nav__link">
    <span class="md-ellipsis">
      Como instalar um compilador (gfortran)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Como instalar um compilador (gfortran)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-linux" class="md-nav__link">
    <span class="md-ellipsis">
      No Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-windows" class="md-nav__link">
    <span class="md-ellipsis">
      No Windows
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-compilar-um-codigo-fonte-utilizando-o-compilador" class="md-nav__link">
    <span class="md-ellipsis">
      Como compilar um código-fonte utilizando o compilador
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Como compilar um código-fonte utilizando o compilador">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flags-de-compilacao" class="md-nav__link">
    <span class="md-ellipsis">
      Flags de Compilação
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executando-o-arquivo-executavel-gerado-pela-compilacao" class="md-nav__link">
    <span class="md-ellipsis">
      Executando o arquivo executável gerado pela compilação
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-2-estrutura-basica-de-um-programa-print-simples-variaveis-e-operacoes-basicas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 2: Estrutura básica de um programa, print simples, variáveis e operações básicas.
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 2: Estrutura básica de um programa, print simples, variáveis e operações básicas.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-21-variaveis" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 2.1: Variáveis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 2.1: Variáveis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#precisao-de-variaveis" class="md-nav__link">
    <span class="md-ellipsis">
      Precisão de Variáveis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-22-operacoes-basicas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 2.2: Operações Básicas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 2.2: Operações Básicas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comentarios" class="md-nav__link">
    <span class="md-ellipsis">
      Comentários
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-3-funcoes-e-modulos" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3: Funções e Módulos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 3: Funções e Módulos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-31-funcoes" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3.1: Funções
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-32-funcoes-intrinsecas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3.2: Funções Intrínsecas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-33-modulos" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 3.3: Módulos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-4-estruturas-condicionais-if-then-else" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 4: Estruturas Condicionais: IF - THEN - ELSE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 4: Estruturas Condicionais: IF - THEN - ELSE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-41-operadores-logicos" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 4.1: Operadores Lógicos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-42-comando-if-then-else" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 4.2: Comando IF-THEN-ELSE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-5-repeticao-comando-do" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 5: Repetição - Comando DO
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-6-subrotinas" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 6: Subrotinas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-7-construindo-o-metodo-da-bissecao" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 7: Construindo o Método da Bisseção
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 7: Construindo o Método da Bisseção">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#topico-71-arquitetando-o-codigo" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 7.1: Arquitetando o código
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 7.1: Arquitetando o código">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-comecamos-informando-a-funcao-que-queremos-encontrar-o-0-e-o-intervalo-onde-iremos-comecar-a-busca" class="md-nav__link">
    <span class="md-ellipsis">
      1. Começamos informando a função que queremos encontrar o 0, e o intervalo onde iremos começar a busca
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-calculamos-o-ponto-medio-do-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      2. Calculamos o ponto médio do intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-verificamos-se-a-funcao-neste-ponto-e-0" class="md-nav__link">
    <span class="md-ellipsis">
      3. Verificamos se a função neste ponto é 0.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-se-sim-retornamos-este-ponto-e-terminamos" class="md-nav__link">
    <span class="md-ellipsis">
      4. Se sim, retornamos este ponto e terminamos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-se-nao-analisamos-o-sinal-da-funcao-neste-ponto-e-determinamos-um-novo-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      5. Se não, analisamos o sinal da função neste ponto e determinamos um novo intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-repetimos-a-partir-do-passo-2-ate-um-criterio-de-parada-como-um-numero-maximo-de-passos-para-evitarmos-um-loop-infinito" class="md-nav__link">
    <span class="md-ellipsis">
      6. Repetimos, a partir do passo 2, até um critério de parada (como um número máximo de passos), para evitarmos um loop infinito.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#especificacao-do-item-5" class="md-nav__link">
    <span class="md-ellipsis">
      Especificação do item 5
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Especificação do item 5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-calcular-o-ponto-medio-do-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Calcular o ponto médio do intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-calcular-finf-e-fc" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Calcular f(inf) e f(c)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-testar-sinal-e-determinar-um-novo-intervalo" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Testar sinal e determinar um novo intervalo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-determinar-outro-novo-intervalo-caso-o-primeiro-teste-tenha-falhado" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Determinar outro novo intervalo caso o primeiro teste tenha falhado
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topico-72-codigo-final" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 7.2: Código Final
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tópico 7.2: Código Final">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testes" class="md-nav__link">
    <span class="md-ellipsis">
      Testes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-8-formatacao-de-saidas-write" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 8: Formatação de Saídas: WRITE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-9-repeticao-do-while" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 9: Repetição: DO - WHILE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#topico-10-imports-e-linkagem" class="md-nav__link">
    <span class="md-ellipsis">
      Tópico 10: Imports e Linkagem
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="capitulo-1-introducao">Capítulo 1 - Introdução</h1>
<p>Neste capítulo visamos apresentar a
linguagem Fortran (na versão Fortran 90) do zero, supondo pouca
familiaridade com programação, mas algum conhecimento de métodos
numéricos (não são obrigatórios, mas serão de grande ajuda para a
compreensão de algumas motivações e exemplos). Ao longo deste
capítulo vamos introduzir os conhecimentos necessários para
construirmos um dos métodos numéricos mais simples e clássicos: o
Método da Bisseção. E, para além de introduzirmos o ferramental,
vamos construir um código para este método ao longo das seções, de
forma que ao final do capítulo teremos uma implementação funcional
do método em Fortran.</p>
<h2 id="caracteristicas-da-linguagem">Características da linguagem</h2>
<p>Do inglês, FORmula TRANslation system, a linguagem FORTRAN foi um avanço nas décadas
de 60 e 70 na programação de computadores. Antes dela, o paradigma principal
de codificação dos programas de computador era escrevê-loss diretamente em 
linguagem de montagem (Assembly), instruções que eram compreendidas de forma
praticamente direta pelos computadores. Porém para nós humanos (que não somos
computadores) é muito difícil e pouco transparente escrever fluxos e algoritmos
tão próximos do metal. Visando incorporar abstrações que facilitariam a vida dos
programadores, Foi criado o FORTRAN. </p>
<p>Nessa metade final do século XX, o surgimento do computador veio como ferramenta
de cálculo para auxiliar na execução de métodos sofisticados e muito extensos que
eram utilizados nos contextos da época, principalmente de guerra, engenharia, etc.
Isso influenciou fortemente a maneira que a linguagem FORTRAN foi construída: pensada
para fazer computação científica, e acelerar o progresso nestas áreas; e tem impactos
que reverberam até as versões mais modernas da linguagem, devido a este processo
histórico.</p>
<p>Algumas das filosofias principais da linguagem são:</p>
<ul>
<li>Ser estrita e eficiente para o que ela foi pensada</li>
</ul>
<p>O que explica a grande quantidade de bibliotecas extremamente otimizadas para álgebra
linear, implementação nativa de estruturas importantes da matemática a nível de 
engenharia como números complexos, arrays multi-dimensionais e especificação de precisão
numérica, e ausência de estruturas comuns em linguagens de propósito geral (como recursividade
e ponteiros, até a década de 90)</p>
<ul>
<li>Ser estável e retrocompatível</li>
</ul>
<p>Muito tempo e esforço já foi colocado para construir programas robustos e de alta complexidade
quando FORTRAN foi amplamente adotado pela comunidade científica: simulações, implementações de 
algoritmos para resolução de inúmeros problemas não-lineares, etc. Para que nenhum destes projetos
se perdessem durante as atualizações da linguagem, FORTRAN é extremamente retrocompatível, de forma
que todos os principais compiladores desenvolvidos até hoje são capazes de compilar programas 
escritos na década de 70 sem alterá-los em 1 linha de código (o que não ocorre, por exemplo, com Python
2 vs Python 3). </p>
<p>E para também certificar que os programas desenvolvidos sejam duráveis e pouco sucetíveis a erros
numéricos (já que isso pode ser fatal numa engenharia naval, aeroespacial e afins), o compilador
é muito rigoroso quanto ao uso das estruturas da linguagem, e não dá muito espaço para implementações
exóticas e imprevisíveis (diferente da linguagem C, por exemplo). O design da sintaxe da linguagem
segue esta mesma lógica.</p>
<h3 id="comparativo-fortran-77-fixed-form-vs-fortran-90-free-form">Comparativo: FORTRAN 77 (fixed-form) vs FORTRAN 90 (free-form)</h3>
<p>Até sua versão 77, FORTRAN rodava principalmente nos grandes centros de computação mantidos pelas
universidades e pelo governo dos Estados Unidos. Estas máquinas comumente utilizavam cartões perfurados
como forma de lerem e carregarem os programas desenvolvidos para a memória, como este da foto abaixo</p>
<p><img alt="Por Arnold Reinhold - I took this picture of an artifact in my possession. The card was created in the late 1960s or early 1970s and has no copyright notice., CC BY-SA 2.5, https://commons.wikimedia.org/w/index.php?curid=775153" src="../f90_content/cartao.jpeg" /></p>
<p>Devido a isso, a sintaxe do FORTRAN 77 é conhecida como sendo de forma fixa, pois existe uma quantidade
limite de caracteres por linha, além de um desígnio especial para cada faixa de caracteres na coluna. 
Você pode consultar mais detalhes em <a href="../Fortran_77/">nossa página de FORTRAN77</a>.</p>
<p>Como você deve imaginar, isto não é nada prático nos moldes atuais (e já na época era problemático).
Para endereçar este e alguns outros problemas, na versão FORTRAN 90 adotou-se uma sintaxe diferente,
a de forma livre. Nesta, removeu-se a limitação de colunas, aumentou-se a quantidade de caracteres
permitido nos nomes das variáveis e das funções, comentários podem ser feitos em qualquer trecho do
código utilizando <code>!</code>, dentre muitas outras convenções de programação que foram criadas com o aumento
em popularidade das linguagens C e Pascal, além da reformulação das estruturas físicas dos computadores
(telas, teclados, disquetes, sistemas operacionais, etc).</p>
<p>Nesta página, iremos trabalhar com o padrão FORTRAN 90. Vamos começar preparando o ambiente de 
execução dos nossos programas em Fortran.</p>
<h2 id="topico-1-compilacao-arquivo-fonte-e-arquivo-executavel">Tópico 1: Compilação, arquivo fonte e arquivo executável</h2>
<p>Antes de começarmos a programar, vamos aprender a como fazer um
programa em Fortran ser executado. Vamos começar definindo alguns
termos:</p>
<ul>
<li>Código-fonte: O código fonte é o arquivo escrito na linguagem de
  programação (no nosso cado, em Fortran). Ele contém as instruções
  do programa, porém o computador não sabe executar estes aquivos.
  Utilizaremos a extensão ".f90" nos nossos arquivos. OBS: programas
  escritos em FORTRAN 77 normalmente utilizam a extensão ".f". Segue
  um exemplo de código-fonte:</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>program cilindro
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>! Calcula a área de um cilindro.
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>!
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>! Declara as variáveis e constantes.
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>implicit none ! Requer que todas as variáveis sejam declaradas
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>integer :: ierr
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>real :: raio,altura,area
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>real , parameter :: pi = 3.14159
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>do
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>   ! Pergunta ao usuário o raio e a altura e lê os valores.
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>   write (*,*) &quot;Entre com o raio e a altura, &#39;q&#39; para sair.&quot;
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>   read (*,*,iostat=ierr) raio,altura
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>   !
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>   ! Se o raio e a altura não puderam ser lidos da entrada, termina o programa.
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>   if (ierr /= 0) stop &quot;finalizando o programa&quot;
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>   !
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>   ! Calcula a área. O sinal ** significa &quot;eleva a uma potência&quot;.
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>   area = 2*pi*(raio**2 + raio*altura)
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>   !
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>   ! Escreve as variáveis de entrada (raio, altura) e a saida (área) na tela.
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>   write (*,&quot;(1x,&#39;raio=&#39;,f6.2,5x,&#39;altura=&#39;,f6.2,5x,&#39;area=&#39;,f6.2)&quot;) raio,altura,area
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>end do
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>end program cilindro
</span></code></pre></div>
<ul>
<li>
<p>Compilador: O compilador é o programa responsável por traduzir
  as instruções do nosso código-fonte para instruções que o
  computador sabe executar. Este programa recebe como entrada o
  código-fonte, e gera um arquivo executável como saída. Utilizaremos
  o compilador "gfortran".</p>
</li>
<li>
<p>Arquivo executável: O arquivo executável é o arquivo que,
  efetivamente, irá rodar no computador, executando nosso programa.
  Este arquivo não é legível para nós, humanos, e por isso usamos as
  abstrações de uma linguagem de programação. Veja o que ocorre ao
  tentarmos abrir um arquivo binário com um leitor de texto:</p>
</li>
</ul>
<p><img alt="binário do código &quot;cilindro.f90&quot; acima" src="../f90_content/binario.png" /></p>
<p>Entendidos estes conceitos básicos, vamos fazer os 3 passos principais 
para sairmos de um código fonte a um binário executável:</p>
<h3 id="como-instalar-um-compilador-gfortran">Como instalar um compilador (gfortran)</h3>
<h4 id="no-linux">No Linux</h4>
<p>As instalações no Linux costumam ser bem diretas, e dependem um pouco
da distribuição que você está utilizando</p>
<p>Se você estiver utilizando distribuições baseadas em <strong>Debian (Debian, Ubuntu, Mint, etc…)</strong>, provavelmente você já tem o compilador pré-instalado. Para verificar,
rode no terminal o comando:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>gfortran --version
</span></code></pre></div>
<p>Se o comando retornar a versão do compilador, então já existe uma instalação. 
Mas se retornar um erro, ou exibir uma versão antiga e você quiser uma mais nova, então você pode instalar o compilador (ou uma nova versão dele) usando:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo apt install gfortran
</span></code></pre></div>
<p>E verificar se tudo ocorreu corretamente verificando a versão que foi instalada:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>gfortran --version
</span></code></pre></div>
<p>Se você usa uma distribuição Linux baseada em <strong>RPM (Red Hat Enterprise Linux, CentOS, Fedora, openSUSE)</strong>, use</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>sudo yum install gcc-gfortran
</span></code></pre></div>
<p>Ou, caso esteja utilizando Fedora 22 e Red Hat Enterprise Linux 8, utilize</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>sudo dnf install gcc-gfortran
</span></code></pre></div>
<p>Por fim, se estiver usando alguma distribuição baseada em <strong>Arch (Arch Linux, EndeavourOS, Manjaro, etc…)</strong>, use</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>sudo pacman -S gcc-fortran
</span></code></pre></div>
<h4 id="no-windows">No Windows</h4>
<p>No caso de querer compilar no Windows, você irá instalar um programa que 
irá ofertar um terminal que funciona de forma bem parecida com os terminais
do Linux, mas adaptado para o Windows: o <a href="https://www.msys2.org/">MSYS2</a>.</p>
<p>Baixe o programa no link do projeto acima e siga as instruções do instalador.
Terminada a instalação, você deverá ter acesso à várias shells do MSYS2: 
MSYS2 MSTS, MSYS2 MINGW64, MSYS2 CLANG64, etc. Abra a <strong>MSYS2 MINGW64</strong></p>
<p>Nela, você irá instalar a coleção de compiladores GCC utilizando o comando:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>pacman -S mingw-w64-x86_64-gcc-fortran
</span></code></pre></div>
<p>Confirme a instalação digitando <code>Y</code> e aguarde. Terminada a instalação, feche
e abra novamente a shell MINGW64. Se tudo ocorreu corretamente, ao digitar
no terminal o comando:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>gfortran --version
</span></code></pre></div>
<p>Será exibida uma mensagem informando nome do pacote, versão e Copyright. Isso
indica que a instalação foi bem sucedida. Os arquivos do caminho padrão 
se encontram em C:\msys64\home\&lt;nome_do_seu_usuario&gt;. Colocar os arquivos
de código-fonte fortran neste caminho facilita a compilação, mas é possível 
utilizá-los de qualquer pasta do computador.</p>
<p><a href="https://fortran-lang.org/learn/os_setup/install_gfortran/">referência das instruções de instalação (em inglês)</a></p>
<h3 id="como-compilar-um-codigo-fonte-utilizando-o-compilador">Como compilar um código-fonte utilizando o compilador</h3>
<p>Instalado o compilador, e com o código-fonte em mãos (isto é, no diretório
no qual iremos rodar o comando, normalmente a home do usuário), podemos compilar o arquivo com:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>gfortran &lt;nome do arquivo&gt; -o &lt;nome de saída do arquivo&gt;
</span></code></pre></div>
<p>Se salvarmos o programa apresentado no início desse tópico, que calcula a área de
um cilindro, como "cilindro.f90", podemos fazer:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>gfortran cilindro.90 -o cilindro
</span></code></pre></div>
<p>E teríamos um arquivo binário chamado <code>cilindro</code> para executar no Linux. 
A depender do sistema, este arquivo receber uma extensão específica, como <code>.exe</code> 
para executáveis em Windows.</p>
<h4 id="flags-de-compilacao">Flags de Compilação</h4>
<p>(flags)[https://gcc.gnu.org/onlinedocs/gfortran/Option-Summary.html]</p>
<h3 id="executando-o-arquivo-executavel-gerado-pela-compilacao">Executando o arquivo executável gerado pela compilação</h3>
<p>Para executar um binário, fazemos</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>./&lt;nome do binario&gt;
</span></code></pre></div>
<p>Do nosso exemplo anterior:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>./cilindro
</span></code></pre></div>
<p>E temos uma possível execução:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a> Entre com o raio e a altura, &#39;q&#39; para sair.
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>1
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>2
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a> raio=  1.00     altura=  2.00     area= 18.85
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a> Entre com o raio e a altura, &#39;q&#39; para sair.
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>q
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>STOP finalizando o programa
</span></code></pre></div>
<h2 id="topico-2-estrutura-basica-de-um-programa-print-simples-variaveis-e-operacoes-basicas">Tópico 2: Estrutura básica de um programa, print simples, variáveis e operações básicas.</h2>
<p>Para começarmos a escrever um programa em Fortran, basta
criarmos um arquivo novo em branco, e salvá-lo com a extensão
".f90".</p>
<p>Todo programa válido em Fortran precisa ter um bloco "program",
com o nome do programa. Dentro deste bloco, temos nosso código
principal a ser executado. Vamos iniciar fazendo um programa
clássico ao começarmos a aprender uma nova linguagem de
programação: Um programa que mostra "Olá mundo!" (ou "Hello
world!") na tela e termina sua execução.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>    program exemplo
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>        print *, &#39;Olá mundo!&#39;
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    end program exemplo
</span></code></pre></div>
<p>Compilando e executando este programa, o programa imprime na
tela "Olá mundo" e termina. O nome que segue a palavra chave
<code>program</code> é o nome do programa, e o bloco é terminado
por <code>end program</code>.</p>
<p>O comando <code>print</code> utiliza um primeiro argumento, que
é a formatação, e em seguidas as informações a serem mostradas.
Como não queremos nenhuma formatação específica para nossos dados,
usamos <code>*</code> como primeiro argumento, e em seguida a
string <code>"Olá mundo!"</code>.</p>
<h3 id="topico-21-variaveis">Tópico 2.1: Variáveis</h3>
<p>Um dos conceitos mais básicos de programação são as variáveis.
Elas são áreas de memória que guardam algum valor. Fortran é uma
linguagem <strong>fortemente tipada</strong>, ou seja, para declaramos e
usarmos uma variável precisamos, primeiro, indicar qual o
<strong>tipo</strong> dessa variável (diferente de Python, por exemplo, que é
fracamente tipada). Nativamente, existem 5 tipos de variáveis em
Fortran:</p>
<ul>
<li><code>integer</code> - para valores inteiros, positivos ou
  negativos</li>
<li><code>real</code> - para valores em ponto-flutuante (números
  fracionários)</li>
<li><code>complex</code> - para valores complexos, consistindo de
  uma parte real e uma parte imaginária</li>
<li><code>character</code> - para texto em geral</li>
<li><code>logical</code> - para valores verdade (verdadeiro ou
  falso)</li>
</ul>
<p>Para declaramos uma variável usamos a sintaxe <code>tipo ::
nome</code> , onde <code>tipo</code> é o tipo da variável e
<code>nome</code> é o nome da variável. Por exemplo, se quisermos
declarar 2 variáveis reais <code>x</code> e <code>y</code>,
fazemos:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>    real :: x
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    real :: y
</span></code></pre></div>
<p>Nomes de variável precisam começar por uma letra, e podem ter
letras, números e underscores " <code>_</code>". Não são aceitos
caracteres pontuados como "é", "ã", "ó", etc.</p>
<p>Variáveis do tipo <code>logical</code> trabalham com os valores
<code>.true.</code> e <code>.false.</code> . Alguns compiladores
podem permitir conversão implícita de valores inteiros para lógico
(i.e. assumir que 0 é falso e qualquer número inteiro diferente de
0 é verdadeiro), mas esse comportamento não é o padrão da
linguagem, não conte sempre com ele, e evite sempre que
possível.</p>
<p>Exemplos de declaração de variáveis para cada tipo:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>    program variaveis
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>        implicit none
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>        integer :: i
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>        real :: distancia
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>        complex :: frequencia
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>        character :: inicial
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>        logical :: eh_primo
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>        i = 1
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>        distancia = 1.41421356
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>        frequencia = (1.0, -0.5)
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>        inicial = &quot;f&quot;
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>        eh_primo = .false.
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>    end program variaveis
</span></code></pre></div>
<p>Por padrão, utilizamos letras minúsculas ao programar, mas a
linguagem não é sensível a CaPiTaLiZaÇãO, então maiúsculas e
minúsculas podem ser usadas para os tipos e nomes. Porém, por
questões de organização do código, seja consistente quanto a isso
ao longo do programa.</p>
<p>Perceba que a primeira instrução do nosso programa é um
<code>implicit none</code>, e é por um bom motivo: Devido a
influência e herança do Fortran 77, por padrão, variáveis que
começam pelas letras I,J,K,L,M,N são do tipo <code>integer</code>,
e variáveis começando pelas outras letras restantes do alfabeto são
do tipo <code>real</code>. Hoje em dia, não se é mais recomendado
usar essa tipagem implícita, que permaneceu apenas por motivos de
retrocompatibilidade (ser possível executar códigos-fonte antigos
utilizando compiladores mais novos, sem ter que alterar o código).
Para indicarmos que não utilizaremos este padrão de tipagem
implícita, incluímos a instrução <code>implicit none</code> no
começo do programa.</p>
<h4 id="precisao-de-variaveis">Precisão de Variáveis</h4>
<p>A representação de valores reais, em Fortran, é feita utilizando
<strong>ponto flutuante</strong>. Nesta forma de representação, os números
possuem sua parte fracionária armazenada em um tamanho finito de
memória. Porém, existem diferentes padrões de armazenamento destes
números, mas não iremos nos aprofundar neste assunto e abordaremos
apenas 2 casos de nosso interesse: Float32 e Float64 - definidos no
padrão IEE 754. Float32 é o padrão que reserva 32 bits para
armazenamento de um número, e possui uma precisão de 6 a 9 dígitos
decimais. Já o padrão Float64 é o padrão que reserva 64 bits para
armazenamento do número, possuindo uma precisão maior: de 15 a 17
dígitos decimais.</p>
<p><strong>Por padrão, Fortran utiliza Float32</strong> para armazenar os
números reais no tipo de variável <code>real</code>. Caso queiramos
armazenar valores com maior precisão, usando o padrão Float64,
podemos utilizar um módulo disponibilizado pelos compiladores mais
recentes de Fortran (2003/2008 em diante): o
<code>iso_fortran_env</code>. Neste módulo, temos a definição de
várias constantes, sendo algumas delas as de definição de precisão
- conhecidas como "<code>kind</code> parameters".</p>
<p>Para declararmos uma variável real com 64 bits de precisão,
importamos o módulo e declaramos a variável como
<code>real(real64)</code> :</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>    use, intrinsic :: iso_fortran_env
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    implicit none
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>    real(real64) :: valor
</span></code></pre></div>
<p>Essa informação é expressamente relevante para computações de
alta precisão. Se quisermos representar valores literais em
Float64, colocamos "_real64" no final do valor. Veja a diferença na
precisão de representação do número de Euler:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>    program euler
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>            use, intrinsic :: iso_fortran_env
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>            implicit none
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>            real :: v1
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>            real(real64) :: v2
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>            v1 = exp(1.0)
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>            v2 = exp(1.0_real64)
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>            print *, v1
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>            print *, v2
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>    end program euler
</span></code></pre></div>
<p>E temos <code>v1 = 2.71828175</code> e <code>v2 =
2.7182818284590451</code>. No primeiro caso, temos erro no 7º
dígito, e no segundo apenas no 16º dígito. Note que foi preciso
chamar a função <code>exp(x)</code> (que retorna <script type="math/tex">e^x</script>) passando como
argumento um valor de 64 bits, para que ele calculasse uma resposta
com 64 bits de precisão. Lembre-se disso e tome cuidado para não
acabar armazenando, por engano, um resultado gerado por precisão
simples em uma variável de precisão dupla. No mesmo exemplo:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>    program euler
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>            use, intrinsic :: iso_fortran_env
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>            implicit none
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>            real(real64) :: v3
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>            v3 = exp(1.0)
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>            print *, v3
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>    end program euler
</span></code></pre></div>
<p>Onde <code>v3 = 2.7182817459106445</code> parece ser um valor
com precisão maior, por estar em uma variável que é capaz de
representar números com mais precisão, mas cujo o conteúdo é
resultado de uma operação em precisão simples (ainda há erro no 7º
dígito da constante).</p>
<h3 id="topico-22-operacoes-basicas">Tópico 2.2: Operações Básicas</h3>
<p>Assim como muitas outras linguagens, Fortran vem com alguns
operadores aritméticos básicos, tabelados abaixo em ordem de
precedência:</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Operação</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>**</td>
<td>Exponenciação</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>Multiplicação</td>
<td></td>
</tr>
<tr>
<td>/</td>
<td>Divisão</td>
<td></td>
</tr>
<tr>
<td>+</td>
<td>Adição</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td>Subtração</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Muito cuidado</strong> com a precedência dos operadores ao colocar
expressões matemáticas grandes no seu código! Principalmente se
elas envolvem frações: a expressão pode acabar calculando uma
expressão diferente da pretendida. Por exemplo, se quisermos
calcular uma média simples entre 3 números, ao escrever:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>    program media
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>        print *, 3 + 4 + 5 / 2
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    end program media
</span></code></pre></div>
<p>Temos como resultado <code>9</code>, e não <code>6</code>, pois
quem tem a precedência maior é a divisão, então primeiro é avaliado
<code>5 / 2</code> e depois são feitas as somas. Para alterar
precedência de operações, envolvemos a expressão com parênteses -
que possuem a maior precedência entre os operadores:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>    program media
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>        print *, (3 + 4 + 5) / 2
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    end program media
</span></code></pre></div>
<p>E agora temos o comportamento esperado. Outro detalhe curioso no
trecho de código anterior é que a expressão foi avaliada como igual
a <code>9</code>, e não <code>9.5</code> como esperaríamos da
aritmética usual. Isto ocorre por outra característica importante
da linguagem: operações entre <strong>inteiros geram inteiros</strong>,
operações com <strong>reais geram reais</strong>. Números <strong>reais</strong> são
representados <strong>com ponto decimal</strong>, ainda que sua parte decimal
seja toda zero. Essa regra explica o porquê de</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>    program divisao
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>        print *, 5 / 2
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    end program divisao
</span></code></pre></div>
<p>ser avaliado como <code>2</code> , e</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>    program divisao
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>        print *, 5.0 / 2
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    end program divisao
</span></code></pre></div>
<p>ser avaliado como <code>2.50000000</code> . Portanto, <strong>cuidado</strong>
<strong>também</strong> com os <strong>tipos das variáveis</strong> que você estiver
operando e com a formatação dos números.</p>
<h4 id="comentarios">Comentários</h4>
<p>Apesar de não ser um operador, vamos aproveitar o final desta
seção para falar de comentários. Linhas de comentários são
iniciadas por <code>!</code>, e servem para escrever texto que não
será interpretado pelo programa. Comentários são úteis para
documentar o que está sendo feito no programa e para guiar as
pessoas que forem ler o código-fonte.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>    program comentarios
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>        implicit none
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>        ! Esta linha será ignorada pelo compilador, escreva o que quiser
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>        real :: alpha  ! Coeficiente do termo linear
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>        real :: beta   ! Coeficiente do termo não-linear
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>        real :: x      ! Variável de entrada
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>        real :: y
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>        alpha = 3.0
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>        beta = 1.0
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>        x = 1
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>        ! Calculando a relação y(x)
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>        y = (alpha * x) + (beta * x * x)
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a>        print *, y
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a>    end program comentarios
</span></code></pre></div>
<p>Não faça comentários em excesso, pois comentários demais podem
prejudicar a legibilidade do código, mas também evite deixar
códigos totalmente não comentados, já que você pode não se lembrar
o que cada linha faz ao revisitar o código no futuro. Uma dica para
achar esse equilíbrio é escrever bons nomes de variáveis e funções,
que sejam autodescritivos e dispensem comentários, quando possível.
Caso você queira adaptar uma fórmula diretamente, querendo manter a
notação original, você pode comentar as variáveis ou a fórmula
referenciada por exemplo.</p>
<h2 id="topico-3-funcoes-e-modulos">Tópico 3: Funções e Módulos</h2>
<p>Este é um dos tópicos mais complexos, mas também um dos mais
relevantes. Leia com calma e, se preciso, pare, rode e mude o
código. Leia mais de uma vez. <!-- Fazer a introdução do Tópico 3 --></p>
<h3 id="topico-31-funcoes">Tópico 3.1: Funções</h3>
<p>Funções são um dos objetos mais explorados e utilizados na
matemática, e não será diferente para nós. No contexto de
programação, funções trazem modularidade e organização ao código,
permitindo que um trecho de código possa ser reutilizado em
diferentes locais do programa, ou até exportado para outros
programas que venhamos futuramente desenvolver.</p>
<p>A sintaxe para declaração de uma função em Fortran segue um
padrão como o seguinte:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>    function nome_funcao(arg1, arg2) result(var_result)
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>        implicit none
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>        tipo1, intent(in) :: arg1
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>        tipo2, intent(in) :: arg2
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>        tipo3 :: var_result
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>        ! Corpo da função
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>        return
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>    end funtion nome_funcao
</span></code></pre></div>
<p>Vamos destrinchar cada parte. A declaração é feita em bloco,
assim como vimos anteriormente ao criarmos o programa principal com
<code>program</code>. Ou seja, começamos a declaração com
<code>function nome_funcao</code> e terminamos com <code>end
function nome_funcao</code>. Na frente do nome da função, entre
parênteses, listamos os argumentos (ou variáveis, no jargão
matemático) da função. Podemos colocar quantos argumentos quisermos
(até mesmo nenhum). Nesse nosso exemplo, temos 2 argumentos:
<code>arg1</code> e <code>arg2</code>. Imediatamente após,
colocamos a palavra reservada <code>result</code> e, em seguida e
entre parênteses, o nome da variável que terá o valor a ser
retornado no final da função, no caso do exemplo,
<code>var_result</code>. Um ponto a ser ressaltado: funções
retornam um, e apenas um, resultado. Mas não se desespere. É
possível organizar as informações de formar a fazer uma função
retornar mais de 1 valor, porém abordaremos este tópico em outro
momento. Por enquanto, trabalharemos com estruturas mais
simples.</p>
<p>Ao analisarmos o corpo da função notamos, inicialmente, temos
uma linha <code>implicit none</code>, que tem o comportamento
descrito ao final do tópico 2.1, e em seguida duas linhas de
declaração de variáveis. Estas variáveis são os argumentos da
função. Porém, diferente da declaração usual vista no tópico 2.1,
temos um trecho <code>intent(in)</code> no meio da declaração. A
instrução <code>intent</code> declara quais operações (escrita e
leitura) serão feitas em uma variável. Quando colocamos
<code>intent(in)</code> na declaração da variável, estamos dizendo
que esta variável será apenas lida, mas não poderá ter seu valor
sobrescrito pela função. Essa instrução está certificando mais um
padrão de funções em Fortran: funções não devem alterar os
argumentos de entrada. Esse padrão previne comportamentos
inesperados (<em>side effects</em>) e facilita interpretação de
resultados.</p>
<p>Para vermos um exemplo que ilustra a importância da declaração
de intenção das variáveis, vamos abordar apenas mais um conceito e
estudar um caso. Para conseguirmos incorporar uma função em um
programa, podemos utilizar, ao final do programa, uma instrução
<code>contains</code> seguida da declaração da função. Sabendo
disso, vejamos um exemplo: Suponha que temos um vetor <script type="math/tex">v = (v_1, v_2)
\in \mathbb{R}^2</script>, e queremos calcular a norma do dobro desse vetor. Ou seja,
se temos o vetor <script type="math/tex">(1, 1)</script>, queremos a norma de <script type="math/tex">(2, 2)</script>. Vamos
construir uma primeira função para isso, não seguindo o padrão com
<code>intent</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>    function norma_dobro(v1, v2) result(norma)
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>        real :: v1
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>        real :: v2
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        real :: norma
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>        v1 = 2*v1
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>        v2 = 2*v2
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>        norma = ((v1**2) + (v2**2))**(1.0/2.0)
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>        return
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>    end function norma_dobro
</span></code></pre></div>
<p>Agora, vamos criar um programa e testar nossa função:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>    program calcula_norma
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>        implicit none
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>        real :: norma_calculada
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>        real :: vec1 !1ª coordenada do vetor
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>        real :: vec2 !2ª coordenada do vetor
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>        vec1 = 1
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>        vec2 = 1
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>        norma_calculada = norma_dobro(vec1, vec2)
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>        print *, norma_calculada
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>        contains
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>            function norma_dobro(v1, v2) result(norma)
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>                real :: v1
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>                real :: v2
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a>                real :: norma
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>                v1 = 2*v1
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>                v2 = 2*v2
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a>                norma = ((v1**2) + (v2**2))**(1.0/2.0)
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>                return
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>            end function norma_dobro
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a>
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>    end program calcula_norma
</span></code></pre></div>
<p>Ao executarmos o nosso programa, temos como saída:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>    2.82842708
</span></code></pre></div>
<p>Que é a norma do vetor <script type="math/tex">(2, 2)</script>. A princípio, parece que está tudo
bem, mas nossa função gerou um efeito colateral e não percebemos
isso. Podemos verificar o que aconteceu printando as coordenadas
<script type="math/tex">v_1 \text{e}\ v_2</script> antes e depois da chamada da função:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>    program calcula_norma
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>        implicit none
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>        real :: norma_calculada
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>        real :: vec1 !1ª coordenada do vetor
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>        real :: vec2 !2ª coordenada do vetor
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>        vec1 = 1
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>        vec2 = 1
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>        print *, vec1
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>        print *, vec2
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>        norma_calculada = norma_dobro(vec1, vec2)
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>        print *, norma_calculada
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>        print *, vec1
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>        print *, vec2
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a>        contains
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a>            function norma_dobro(v1, v2) result(norma)
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>                real :: v1
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a>                real :: v2
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a>                real :: norma
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a>
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a>                v1 = 2*v1
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a>                v2 = 2*v2
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a>
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a>                norma = ((v1**2) + (v2**2))**(1.0/2.0)
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a>
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a>                return
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a>            end function norma_dobro
</span><span id="__span-29-33"><a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a>
</span><span id="__span-29-34"><a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a>    end program calcula_norma
</span></code></pre></div>
<p>E no resultado desse programa:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>    1.00000000
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>    1.00000000
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>    2.82842708
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>    2.00000000
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>    2.00000000
</span></code></pre></div>
<p>Podemos perceber que nossa função de cálculo de norma mudou os
valores do nosso vetor original, que não era nossa intenção
inicial. Isso ocorre pois alterações em variáveis passadas como
argumentos em funções refletem as alterações externamente. Vejamos
agora o que acontece quando declaramos a função usando
<code>intent</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>    program calcula_norma
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>        implicit none
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>        real :: norma_calculada
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>        real :: vec1 !1ª coordenada do vetor
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>        real :: vec2 !2ª coordenada do vetor
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>        vec1 = 1
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>        vec2 = 1
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>        print *, vec1
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>        print *, vec2
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>        norma_calculada = norma_dobro(vec1, vec2)
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a>        print *, norma_calculada
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a>        print *, vec1
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a>        print *, vec2
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>        contains
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>            function norma_dobro(v1, v2) result(norma)
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a>                real, intent(in) :: v1
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>                real, intent(in) :: v2
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a>                real :: norma
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a>                v1 = 2*v1
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a>                v2 = 2*v2
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a>                norma = ((v1**2) + (v2**2))**(1.0/2.0)
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a>
</span><span id="__span-31-30"><a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a>                return
</span><span id="__span-31-31"><a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a>
</span><span id="__span-31-32"><a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a>            end function norma_dobro
</span><span id="__span-31-33"><a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a>
</span><span id="__span-31-34"><a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a>    end program calcula_norma
</span></code></pre></div>
<p>E ao tentarmos compilar e executar este programa:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>    ./main.f95:27:3:
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>             27 |    v1 = 2*v1
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>    Error: Dummy argument ‘v1’ with INTENT(IN) in variable definition
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>    context (assignment) at (1)
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    ./main.f95:28:3:
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>             28 |    v2 = 2*v2
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>    Error: Dummy argument ‘v2’ with INTENT(IN) in variable definition
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>    context (assignment) at (1)
</span></code></pre></div>
<p>Nosso compilador não finalizou a compilação pois detectou uma
inconsistência: Declaramos que <script type="math/tex">v_1 \text{e}\ v_2</script> são apenas argumentos de
entrada, mas em seguida tentamos modificar o valor dessas
variáveis. Aí está a importância do uso do <code>intent</code>:
caso nós, programadores, acidentalmente façamos uma atribuição
indevida, seremos alertados pelo compilador de que estamos fazendo
algo que provavelmente não deveríamos estar fazendo.</p>
<p>Para contornar nosso problema da função
<code>calcula_norma</code>, podemos:</p>
<ol>
<li>Criar novas variáveis internas da função, que essas sim poderão
   ser modificadas, copiar o valor dos argumentos originais nestas
   variáveis e operar com ela; ou</li>
<li>Usar os valores originais diretamente no cálculo da norma</li>
</ol>
<p>Na primeira proposta, nossa função ficaria com a seguinte
cara:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>    function norma_dobro(v1, v2) result(norma)
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>        real, intent(in) :: v1
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>        real, intent(in) :: v2
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>        real :: coord1
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>        real :: coord2
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>        real :: norma
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>        coord1 = v1
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>        coord2 = v2
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>        coord1 = 2*coord1
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>        coord2 = 2*coord2
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>        norma = ((coord1**2) + (coord2**2))**(1.0/2.0)
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a>        return
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a>    end function norma_dobro
</span></code></pre></div>
<p>Com a segunda proposta:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>    function norma_dobro(v1, v2) result(norma)
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>        real, intent(in) :: v1
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>        real, intent(in) :: v2
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>        real :: norma
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>        norma = (((2*v1)**2) + ((2*v2)**2))**(1.0/2.0)
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>        return
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>    end function norma_dobro
</span></code></pre></div>
<p>E, com qualquer uma dessas versões, nosso resultado final ao
executar o programa será:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>    1.00000000
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>    1.00000000
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>    2.82842708
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>    1.00000000
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>    1.00000000
</span></code></pre></div>
<p>Evitamos, assim, alterações nos dados originais. Dois
comentários valem ser feitos: Apesar de ter menos código, a segunda
implementação da função é bem mais difícil de ser entendida do que
a primeira implementação. Em programas mais complexos, isso pode
vir a ser um problema para outros programadores que tentem entender
o comportamento da função, e até mesmo para quem escreveu a função
ao ler o próprio código futuramente. Procure fazer códigos
compreensíveis e, quando preciso, comente linhas mais difíceis ou
relevantes. Segundo ponto: colocar o bloco de funções abaixo do
programa principal não é melhor maneira de organizar o seu código.
A maneira ideal de se fazer esta organização é utilizando Módulos,
que será nosso próximo assunto, no tópico 3.3.</p>
<h3 id="topico-32-funcoes-intrinsecas">Tópico 3.2: Funções Intrínsecas</h3>
<p>Fortran já existe a muito tempo, e é utilizado para diversos
fins. Porém, como várias delas acabaram por precisar de funções
comuns entre elas, a linguagem já implementa algumas destas funções
para nos poupar de ter que defini-las nós mesmos. Buscando por
"Intrinsic functions in Fortran 90" na internet, você vai encontrar
algumas relações/listas destas funções. Alguns dos exemplos de
funções ofertadas são:</p>
<ul>
<li>Valor Absoluto - <code>ABS</code></li>
<li>Máximo - <code>MAX</code></li>
<li>Logaritmo Natural - <code>LOG</code></li>
<li>Exponencial - <code>EXP</code></li>
<li>Raiz Quadrada - <code>SQRT</code></li>
<li>Cosseno - <code>COS</code></li>
<li>Arco tangente - <code>ATAN</code></li>
<li>Conjugado Complexo - <code>CONJG</code>, etc</li>
</ul>
<p>Normalmente, as implementações destas funções são uma das
melhores possíveis (geralmente são rápidas!). Então, quando for
criar uma função simples pro seu código, veja se ela já é oferecida
nativamente pela linguagem. Se sim, dê prioridade a implementação
nativa.</p>
<h3 id="topico-33-modulos">Tópico 3.3: Módulos</h3>
<p>Módulos, como o próprio nome sugere, trazem modularidade ao
programa. Ao subdividirmos um grande programa em componentes
menores, facilitamos a manutenção e a eventual reutilização desses
componentes em outros programas. Dessa forma, funções que são
utilizadas em vários programas diferentes só precisarão ser
escritas uma vez e reutilizadas sempre que possível. Além disso,
você só precisará alterar 1 trecho que código para aplicar a
mudança em vários programas de uma só vez (em vez de fazer a
alteração programa a programa).</p>
<p>A sintaxe da declaração de um módulo segue um padrão como o
seguinte:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>    module nome_do_modulo
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>        implicit none
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>    contains
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>        ! Aqui começa o bloco de declaração de
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>        ! funções, variáveis, e o que mais quisermos
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>    end module nome_do_modulo
</span></code></pre></div>
<p>E, para usarmos um módulo em um programa, incluímos uma linha
<code>use nome_do_modulo</code> logo abaixo da primeira linha do
programa. Para o nosso exemplo do tópico anterior, podemos criar um
módulo de normas, e teremos um programa reestruturado da seguinte
forma:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>    module normas
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>        implicit none
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>    contains
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>        function norma_do_dobro(v1, v2) result(norma)
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>                real, intent(in) :: v1
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>                real, intent(in) :: v2
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>                real :: coord1
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>                real :: coord2
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>                real :: norma
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a>                coord1 = v1
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>                coord2 = v2
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>                coord1 = 2*coord1
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a>                coord2 = 2*coord2
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a>                norma = sqrt((coord1**2) + (coord2**2))
</span><span id="__span-37-20"><a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a>
</span><span id="__span-37-21"><a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a>                return
</span><span id="__span-37-22"><a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a>
</span><span id="__span-37-23"><a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a>        end function norma_do_dobro
</span><span id="__span-37-24"><a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a>    end module funcs
</span><span id="__span-37-25"><a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a>
</span><span id="__span-37-26"><a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a>    program calcula_norma
</span><span id="__span-37-27"><a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a>        use normas
</span><span id="__span-37-28"><a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a>        implicit none
</span><span id="__span-37-29"><a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a>        real :: norma_calculada
</span><span id="__span-37-30"><a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a>        real :: vec1 !1ª coordenada do vetor
</span><span id="__span-37-31"><a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a>        real :: vec2 !2ª coordenada do vetor
</span><span id="__span-37-32"><a id="__codelineno-37-32" name="__codelineno-37-32" href="#__codelineno-37-32"></a>
</span><span id="__span-37-33"><a id="__codelineno-37-33" name="__codelineno-37-33" href="#__codelineno-37-33"></a>        vec1 = 1
</span><span id="__span-37-34"><a id="__codelineno-37-34" name="__codelineno-37-34" href="#__codelineno-37-34"></a>        vec2 = 1
</span><span id="__span-37-35"><a id="__codelineno-37-35" name="__codelineno-37-35" href="#__codelineno-37-35"></a>
</span><span id="__span-37-36"><a id="__codelineno-37-36" name="__codelineno-37-36" href="#__codelineno-37-36"></a>        print *, vec1
</span><span id="__span-37-37"><a id="__codelineno-37-37" name="__codelineno-37-37" href="#__codelineno-37-37"></a>        print *, vec2
</span><span id="__span-37-38"><a id="__codelineno-37-38" name="__codelineno-37-38" href="#__codelineno-37-38"></a>
</span><span id="__span-37-39"><a id="__codelineno-37-39" name="__codelineno-37-39" href="#__codelineno-37-39"></a>        norma_calculada = norma_do_dobro(vec1, vec2)
</span><span id="__span-37-40"><a id="__codelineno-37-40" name="__codelineno-37-40" href="#__codelineno-37-40"></a>        print *, norma_calculada
</span><span id="__span-37-41"><a id="__codelineno-37-41" name="__codelineno-37-41" href="#__codelineno-37-41"></a>
</span><span id="__span-37-42"><a id="__codelineno-37-42" name="__codelineno-37-42" href="#__codelineno-37-42"></a>        print *, vec1
</span><span id="__span-37-43"><a id="__codelineno-37-43" name="__codelineno-37-43" href="#__codelineno-37-43"></a>        print *, vec2
</span><span id="__span-37-44"><a id="__codelineno-37-44" name="__codelineno-37-44" href="#__codelineno-37-44"></a>
</span><span id="__span-37-45"><a id="__codelineno-37-45" name="__codelineno-37-45" href="#__codelineno-37-45"></a>    end program calcula_norma
</span></code></pre></div>
<p>Desta forma, agrupamos funções parecidas, ou de mesmo contexto,
sem misturá-las com todas as outras funções do código. Além disso,
veremos posteriormente como módulos podem ser importados e
exportados entre diferentes programas, ao declará-los em arquivos
separados e usá-los em nossos programas.</p>
<h2 id="topico-4-estruturas-condicionais-if-then-else">Tópico 4: Estruturas Condicionais: IF - THEN - ELSE</h2>
<p>Já sabemos como montar um programa que executa do começo ao fim
de acordo com um procedimento inicialmente bem determinado. Mas e
se o comportamento do programa puder variar no meio da execução,
dependendo da entrada fornecida? Não saberemos de antemão como o
programa irá executar, mas podemos preparar o código para fazer as
decisões em tempo de execução. Para fazermos isso, vamos ver como
funcionam os desvios condicionais.</p>
<h3 id="topico-41-operadores-logicos">Tópico 4.1: Operadores Lógicos</h3>
<p>Vimos anteriormente operadores aritméticos (+, -, *, etc) e como
operam valores numéricos. Mas, quando a álgebra em questão é a
álgebra de Boole, precisamos de novos operadores que lidam com os
valores verdade <code>.true.</code> e <code>.false.</code>.</p>
<p>Para formarmos expressões lógicas, podemos utilizar os
operadores:</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Operação</th>
</tr>
</thead>
<tbody>
<tr>
<td>==</td>
<td>Verifica se os 2 operandos são iguais</td>
</tr>
<tr>
<td>/=</td>
<td>Verifica se os 2 operandos são diferentes</td>
</tr>
<tr>
<td>&gt;</td>
<td>Verifica se o operando à esquerda é maior que o da direita</td>
</tr>
<tr>
<td>&lt;</td>
<td>Verifica se o operando à esquerda é menor que o da direita</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Verifica se o operando à esquerda é maior ou igual ao da</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Verifica se o operando à esquerda é menor ou igual ao da<br>direita</td>
</tr>
</tbody>
</table>
<p>Estes operadores irão retornar valores <code>.true.</code> ou
<code>.false.</code>, e podemos operar estes valores com os
operadores booleanos:</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Operação</th>
</tr>
</thead>
<tbody>
<tr>
<td>.and.</td>
<td>Realiza um "E" lógico</td>
</tr>
<tr>
<td>.or.</td>
<td>Realiza um "OU" lógico</td>
</tr>
<tr>
<td>.not.</td>
<td>Realiza um "NÃO" lógico</td>
</tr>
</tbody>
</table>
<p>Com isso, podemos fazer alguns testes como: Se um certo valor é
maior que 0, se 2 valores são iguais, etc.</p>
<h3 id="topico-42-comando-if-then-else">Tópico 4.2: Comando IF-THEN-ELSE</h3>
<p>Agora que sabemos como montar e comparar expressões lógicas,
vamos usá-las com o comando IF-THEN-ELSE. A sintaxe do comando
é:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>    if (expressao_logica) then
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>        ! Código a ser executado se a expressão for verdadeira
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>    else
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>        ! Código a ser executado se a expressão for falsa
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>    end if
</span></code></pre></div>
<p>O trecho <code>else</code> pode ser omitido, caso não haja
nenhum caso explícito para a condição falsa. E com isso,
conseguimos implementar várias funções que são definidas por parte,
como:</p>
<p><strong>Função Valor Absoluto</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>    function absoluto(x) result(y)
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>        real, intent(in) :: x
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>        real :: y
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>        y = x
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>        if (x &lt; 0) then
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>                y = -y
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>        end if
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>        return
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a>    end function absoluto
</span></code></pre></div>
<p><strong>Função de Heaviside</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>    function heaviside(x) result(y)
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>        real, intent(in) :: x
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>        real :: y
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>        if (x &gt;= 0) then
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>                y = 1
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>        else
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>                y = 0
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>        end if
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a>        return
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a>    end function heaviside
</span></code></pre></div>
<p>E assim por diante. Dica de programação: evite colocar muitos
IF's aninhados uns dentro dos outros, pois isso costuma dificultar
a leitura do código. Evite também colocar expressões muito longas
no teste do IF, e tome cuidado com a precedência das operações (use
parênteses, na dúvida). Aqui um exemplo de um bloco difícil de
entender devido a IF's aninhados:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>    real, intent(in):: a
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>    real, intent(in):: b
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>    real, intent(in):: p
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>    if (p &gt;= a) then
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>        if (p &lt;= b) then
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>            if (p == (a+b)/2 ) then
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>                print *, &quot;p está no intervalo e é ponto medio&quot;
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a>            else
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a>                if (p &gt; (a+b)/2) then
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a>                    print *, &quot;p está no intervalo, e está mais próximo de&quot;, b
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a>                else
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a>                    print *, &quot;p está no intervalo, e está mais próximo de&quot;, a
</span><span id="__span-41-14"><a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a>                end if
</span><span id="__span-41-15"><a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a>            end if
</span><span id="__span-41-16"><a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a>        else
</span><span id="__span-41-17"><a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a>            print *, &quot;p está fora do intervalo, e depois de&quot;, b
</span><span id="__span-41-18"><a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a>        end if
</span><span id="__span-41-19"><a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a>    else
</span><span id="__span-41-20"><a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a>        print *, &quot;p está fora do intervalo, e antes de&quot;, a
</span><span id="__span-41-21"><a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a>    end if
</span></code></pre></div>
<p>Perceba que você precisa manter os estados lógicos na sua cabeça
para acompanhar a execução. Para resolver estes problemas,
geralmente aplicamos uma de duas técnicas: Inversão Lógica ou
Extração em Função. Na primeira, usamos o teste lógico inverso
combinados com <code>return</code>, de forma que daquele trecho em
diante, sabemos que não estamos mais naquele caso. O segundo método
consiste em extrair subtestes em funções separadas, que realizam a
lógica internamente, e apenas chamar estas funções no nosso bloco
de IF. Veja como fica o código acima utilizando a primeira
técnica:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>    real, intent(in):: a
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>    real, intent(in):: b
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>    real, intent(in):: p
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>    if (p &lt; a) then
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>        print *, &quot;p está fora do intervalo, e antes de&quot;, a
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>        return
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>    end if
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>    if (p &gt; b) then
</span><span id="__span-42-11"><a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a>        print *, &quot;p está fora do intervalo, e depois de&quot;, b
</span><span id="__span-42-12"><a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a>        return
</span><span id="__span-42-13"><a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a>    end if
</span><span id="__span-42-14"><a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a>
</span><span id="__span-42-15"><a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a>    if (p == (a+b)/2 ) then
</span><span id="__span-42-16"><a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a>        print *, &quot;p está no intervalo e é ponto medio&quot;
</span><span id="__span-42-17"><a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a>        return
</span><span id="__span-42-18"><a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a>    end if
</span><span id="__span-42-19"><a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a>
</span><span id="__span-42-20"><a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a>    ! Neste ponto, sabemos que p está no intervalo e não é ponto médio
</span><span id="__span-42-21"><a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a>    if (p &gt; (a+b)/2) then
</span><span id="__span-42-22"><a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a>        print *, &quot;p está no intervalo, e está mais próximo de&quot;, b
</span><span id="__span-42-23"><a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a>    else
</span><span id="__span-42-24"><a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a>        print *, &quot;p está no intervalo, e está mais próximo de&quot;, a
</span><span id="__span-42-25"><a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a>    end if
</span><span id="__span-42-26"><a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a>
</span><span id="__span-42-27"><a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a>    return
</span></code></pre></div>
<p>Bem melhor de acompanhar, não é? Usando a segunda técnica
poderíamos, por exemplo, extrair o bloco que testa se
<code>p</code> está dentro do intervalo <script type="math/tex">(a, b)</script> em uma função, e
verificar as outras propriedades no nosso IF após chamar esta
função. Caso queira, faça este segundo caso como exercício. Em
alguns outros cenários, esta segunda técnica pode fazer mais
sentido que a primeira, e vice versa.</p>
<h2 id="topico-5-repeticao-comando-do">Tópico 5: Repetição - Comando DO</h2>
<p>Uma das maiores vantagens de se utilizar um computador para
fazer contas, além da velocidade, é que, diferente de nós seres
humanos, máquinas podem fazer tarefas repetitivas por longas horas
sem enjoarem. Portanto, deixemos essas tarefas para o computador
sempre que possível, poupando a nós, programadores humanos, dessa
tarefa. E, para isso, podemos utilizar o comando DO.</p>
<p>A sintaxe do comando é:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>    do iterador = valor_inicial, valor_final, passo
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>        ! Código a ser repetido
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>    end do
</span></code></pre></div>
<p>Onde: <code>iterador</code> é a variável de iteração da
repetição, <code>valor_inicial</code> é o primeiro valor que o
iterador assumirá, <code>valor_final</code> é o último valor que a
variável pode assumir e <code>passo</code> é o incremento que será
feito a cada rodada de repetição. O exemplo mais comum na
matemática? Somatórios. Digamos que queremos fazer um somatório de
1 até n da expressão <script type="math/tex">1/k^2</script>, como faríamos? Desta forma:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>    implicit none
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>    real :: valor
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>    integer :: k
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>    integer :: n
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>    valor = 0.0
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>    n = 100
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>    do k = 1, n, 1
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>        valor = valor + 1.0/(k*k)
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>    end do
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>
</span><span id="__span-44-13"><a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>    print *, valor
</span></code></pre></div>
<p>E com 3 linhas fizemos 100 operações (o valor de <code>n</code>
neste exemplo), tal qual uma notação de somatório dispensa
escrevermos 100 somas por extenso. Algumas observações sobre este
trecho de código:</p>
<ul>
<li>Começamos iniciando a variável <code>valor</code> com 0.0, para
  garantir que não havia nenhum lixo de memória da variável
  recém-criada. Crie o hábito de inicializar variáveis antes de
  usá-las, especialmente em situações onde serão utilizadas para
  acúmulos.</li>
<li>O passo de iteração padrão do comando <code>do</code> é 1.
  Logo, é equivalente escrever <code>do k = 1, n, 1</code> ou
  <code>do k = 1, n</code></li>
<li>Por fim, cuidado com a precisão das variáveis e seus tamanhos
  máximos e mínimos ao fazer muitas operações com elas, ou que
  envolvam números muito grandes, ou muito pequenos. Pode ser que
  você se depare com um resultado estranho mesmo com um código que
  deveria funcionar, devido ao fato dos números terem ficado grandes
  demais ou pequenos demais para o tamanho de representação suportado
  pelas variáveis</li>
</ul>
<p>Para este último ponto, podemos utilizar o próprio trecho de
código acima para nos deparamos com problemas do tipo. O somatório
expresso neste trecho converge para <script type="math/tex">\pi^2/6</script>, que é aproximadamente
igual a 1,6449340668482264. Vamos testar diferentes valores de
<code>n</code> no código, para ver a convergência:</p>
<ul>
<li>Para n = <script type="math/tex">10^2</script> temos valor = 1.63498402</li>
<li>Para n = <script type="math/tex">10^3</script> temos valor = 1.64393485</li>
<li>Para n = <script type="math/tex">10^4</script> temos valor = 1.64472532</li>
<li>Para n = <script type="math/tex">10^5</script> temos valor = Infinity</li>
</ul>
<p>A soma divergiu! Ora, mas nosso código estava coerente até <script type="math/tex">10^4</script> e
a teoria diz que a soma converge. Qual foi o problema? as variáveis
<code>k</code> e <code>valor</code> são dos tipos
<code>integer</code> e <code>real</code> que, por padrão (em
FORTRAN 90), são de 32 bits! Quando <code>k</code> assume valores
próximos de <script type="math/tex">10^5</script>, temos do denominador <script type="math/tex">10^5 \times 10^5 = 10^{10} \approx 2^{33}</script>, que é
um número maior do que os <script type="math/tex">2^{32}</script> representáveis em uma variável do
tipo Float32 (vide Tópico 2.1). Se representarmos nossas variáveis
com mais precisão (64 bits):</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>    use, intrinsic :: iso_fortran_env
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>    implicit none
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>    real(real64) :: valor
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>    integer(int64) :: k
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>    integer(int64) :: n
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>    valor = 0.0
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a>    n = 10**5_int64
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a>    do k = 1, n
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a>            valor = valor + 1.0_real64/(k*k)
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a>    end do
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a>    print *, valor
</span></code></pre></div>
<p>E agora sim temos saídas que continuam convergindo:</p>
<ul>
<li>Para n = <script type="math/tex">10^5</script> temos valor = 1.6449240668982423</li>
<li>Para n = <script type="math/tex">10^6</script> temos valor = 1.6449330668487701</li>
<li>Para n = <script type="math/tex">10^7</script> temos valor = 1.6449339668472596</li>
<li>Para n = <script type="math/tex">10^8</script> temos valor = 1.6449340578345750</li>
</ul>
<p>Detalhe: não é permitido andar com passos fracionários, como
0.5, apenas passos inteiros. Caso deseja iterar desta forma, é
preciso construir uma iteração inteira que nos permita,
internamente, representar a iteração fracionária. Por exemplo, se
queremos avaliar uma expressão de 0 até 1 com passo 0.1, não é
possível fazer</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>    do k = 0, 1, 0.1
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>            print *, k
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>    end do
</span></code></pre></div>
<p>Mas podemos fazer:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>    do k = 0, 10, 1
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>            print *, k/10.0
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>    end do
</span></code></pre></div>
<p>Uma outra dica útil e que reflete nas possibilidades de uso do
comando <code>do</code> é que você pode andar com passos negativos,
como -1, desde que também sejam inteiros. No caso da nossa soma que
<script type="math/tex">1/k^2</script>, pode ser útil que somemos dos menores números para os
maiores, com o objetivo de somar as contribuições das menores
parcelas da soma primeiro, e as maiores depois. Esta técnica pode
aumentar a precisão dos cálculos devido o não-desperdício de
precisão.</p>
<p>Desta forma, o mais adequado, para o nosso exemplo seria
somarmos começando de <code>n</code> e terminando em 1, já que <script type="math/tex">1/n^2</script>
é o menor número da soma, e cada um anterior é ligeiramente maior.
Sendo assim, nosso somatório ficaria de trás pra frente:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>    use, intrinsic :: iso_fortran_env
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>    implicit none
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>    real(real64) :: valor
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>    integer(int64) :: k
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>    integer(int64) :: n
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>    valor = 0.0
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a>    n = 10**5_int64
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a>    do k = n, 1, -1
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a>            valor = valor + 1.0_real64/(k*k)
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a>    end do
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a>    print *, valor
</span></code></pre></div>
<p>E conseguimos ver o impacto na precisão ao comparamos os casos
de <script type="math/tex">10^8</script> e <script type="math/tex">10^9</script> em ambas as abordagens:</p>
<p>Primeira abordagem:</p>
<ul>
<li>Para n = <script type="math/tex">10^8</script> temos valor = 1.6449340578345750, erro absoluto
  da aproximação = 9.0136513808403151E-009</li>
<li>Para n = <script type="math/tex">10^9</script> temos valor = 1.6449340578345750, erro absoluto
  da aproximação = 9.0136513808403151E-009</li>
</ul>
<p>Segunda abordagem:</p>
<ul>
<li>Para n = <script type="math/tex">10^8</script> temos valor = 1.6449340568482265, erro absoluto
  da aproximação = 9.9999999392252903E-009</li>
<li>Para n = <script type="math/tex">10^9</script> temos valor = 1.6449340658482263, erro absoluta
  do aproximação = 1.0000000827403710E-009</li>
</ul>
<p>E observamos que não continuamos convergindo utilizando a
primeira abordagem, enquanto na segunda sim.</p>
<p><strong>OBS:</strong> Existem formas muito mais eficientes de se aproximar
<script type="math/tex">\pi^2/6</script>, o exemplo acima é meramente didático.</p>
<h2 id="topico-6-subrotinas">Tópico 6: Subrotinas</h2>
<p>Neste tópico abordaremos o último assunto antes de partirmos
para nossa construção e implementação do Método da Bisseção. No
tópico 3 abordamos funções e módulos, e vimos que uma das
características padronizadas das funções é que elas não alteram os
argumentos de entrada. E para usar livremente os valores dos
argumentos de entrada, criamos variáveis auxiliares dentro do corpo
da função para armazenarem cálculos intermediários. Porém nem
sempre isso é viável ou desejado, e gostaríamos de alterar os
valores passados como argumento. Vale lembrar também que funções
retornam apenas 1 único valor. Para contornar estas limitações de
uso, temos as Subrotinas.</p>
<p>Subrotinas possuem comportamento e estrutura muito parecidos com
funções. A sintaxe para declaração de uma subrotina é:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>    subroutine nome_subrotina(arg1, arg2, arg3)
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>        implicit none
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>        tipo1, intent(in) :: arg1
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>        tipo2, intent(inout) :: arg2
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>        tipo3, intent(out) :: arg3
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a>        ! Corpo da subrotina
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>        return
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>    end subroutine
</span></code></pre></div>
<p>Que é muito semelhante a declaração de uma função, mas com
algumas diferenças:</p>
<ol>
<li>Não há <code>result</code> no cabeçalho, pois subrotinas não
   retornam valores. Neste caso, é preciso passar como argumento a(s)
   variável(eis) onde serão escritos os valores de retorno</li>
<li>Os argumentos não necessariamente são apenas para leitura
   ( <code>intent(in)</code>), mas podem ser pra leitura e escrita (
   <code>intent(inout)</code>) ou apenas escrita
   ( <code>intent(out)</code>)</li>
<li>Subrotinas são chamadas por <code>call nome_subrotina</code>, e
   não apenas o nome do procedimento, como é o caso das funções</li>
</ol>
<p>Tal qual nas funções, podemos ter quantos argumentos quisermos.
No exemplo, temos 3 argumentos na rotina. Para exemplificar os
conceitos acima, vamos estruturar uma subrotina que resolva o
seguinte problema: dado dois números consecutivos da sequência de
fibonacci  <script type="math/tex">F(n)</script> e <script type="math/tex">F(n+1)</script>, retornamos <script type="math/tex">F(n+1)</script> e <script type="math/tex">F(n+2)</script>.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>    subroutine fib(f1, f2)
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>        integer, intent(inout):: f1
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>        integer, intent(inout):: f2
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>        integer :: prox
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>        prox = f1 + f2
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a>        f1 = f2
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a>        f2 = prox
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a>    end subroutine fib
</span></code></pre></div>
<p>Destrinchando o código:</p>
<ol>
<li>Começamos definindo que nossos parâmetros da subrotina serão
   utilizados tanto para leitura quanto para escrita, além de
   definirmos todas as outras variáveis intermediárias que
   utilizaremos na subrotina.</li>
<li>Calculamos <script type="math/tex">F(n+2)</script> utilizando <script type="math/tex">F(n+1)</script> e <script type="math/tex">F(n)</script>, e guardamos o
   resultado numa variável intermediária</li>
<li>Atualizamos os valores de <code>f1</code> e <code>f2</code>, e terminamos a
   subrotina</li>
</ol>
<p>Perceba que, diferente das funções, não há <code>return</code> e
os parâmetros passados sofrem alteração. Podemos testar o código
chamando a subrotina múltiplas vezes e exibindo a sequência
gerada:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>    module funcs
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>        implicit none
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>    contains
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>        subroutine fib(f1, f2)
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>            integer, intent(inout):: f1
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>            integer, intent(inout):: f2
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>            integer ::      prox
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a>
</span><span id="__span-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a>            prox = f1 + f2
</span><span id="__span-51-11"><a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a>
</span><span id="__span-51-12"><a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a>            f1 = f2
</span><span id="__span-51-13"><a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a>            f2 = prox
</span><span id="__span-51-14"><a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a>
</span><span id="__span-51-15"><a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a>        end subroutine fib
</span><span id="__span-51-16"><a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a>    end module funcs
</span><span id="__span-51-17"><a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a>
</span><span id="__span-51-18"><a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a>    program test
</span><span id="__span-51-19"><a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a>        use funcs
</span><span id="__span-51-20"><a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a>        implicit none
</span><span id="__span-51-21"><a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a>
</span><span id="__span-51-22"><a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a>        integer :: f1
</span><span id="__span-51-23"><a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a>        integer :: f2
</span><span id="__span-51-24"><a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a>        integer :: i
</span><span id="__span-51-25"><a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a>
</span><span id="__span-51-26"><a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a>        f1 = 1
</span><span id="__span-51-27"><a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a>        f2 = 1
</span><span id="__span-51-28"><a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a>
</span><span id="__span-51-29"><a id="__codelineno-51-29" name="__codelineno-51-29" href="#__codelineno-51-29"></a>        do i = 1, 10
</span><span id="__span-51-30"><a id="__codelineno-51-30" name="__codelineno-51-30" href="#__codelineno-51-30"></a>            print *, f1, f2
</span><span id="__span-51-31"><a id="__codelineno-51-31" name="__codelineno-51-31" href="#__codelineno-51-31"></a>
</span><span id="__span-51-32"><a id="__codelineno-51-32" name="__codelineno-51-32" href="#__codelineno-51-32"></a>            call fib(f1, f2)
</span><span id="__span-51-33"><a id="__codelineno-51-33" name="__codelineno-51-33" href="#__codelineno-51-33"></a>        end do
</span><span id="__span-51-34"><a id="__codelineno-51-34" name="__codelineno-51-34" href="#__codelineno-51-34"></a>    end program test
</span></code></pre></div>
<p>E temos como saída:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>     1           1
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>     1           2
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>     2           3
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>     3           5
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a>     5           8
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>     8          13
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a>    13          21
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a>    21          34
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a>    34          55
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a>    55          89
</span></code></pre></div>
<p>E notamos que a cada chamada da subrotina as variáveis
<code>f1</code> e <code>f2</code> vão tendo seus valores alterados
e utilizados nas chamadas seguintes.</p>
<h2 id="topico-7-construindo-o-metodo-da-bissecao">Tópico 7: Construindo o Método da Bisseção</h2>
<p>Com as técnincas e estruturas apresentadas nos tópicos
anteriores, agora temos o que precisamos para construírmos nossa
primeira versão do Método da Bisseção. Esta primeira versão será
melhorada/modificada nos tópicos seguintes, por motivos que
abordaremos ao final desta sessão. Vamos começar
relembrando/definindo a ideia algorítmica do método em alto nível
de abstração. Em suma, o método da bisseção segue os seguintes passos:</p>
<ol>
<li>Começamos informando a função que queremos encontrar o 0, e o
   intervalo onde iremos começar a busca</li>
<li>Calculamos o ponto médio do intervalo</li>
<li>Verificamos se a função neste ponto é 0</li>
<li>Se sim, retornamos este ponto e terminamos</li>
<li>Se não, analisamos o sinal da função neste ponto e determinamos
   um novo intervalo</li>
<li>Repetimos, a partir do passo 2, até um critério de parada (como
   um número máximo de passos), para evitarmos um loop infinito.</li>
</ol>
<p>Vamos contruir este programa utilizando a seguinte abordagem:
começamos escrevendo as partes centrais do código primeiro, supondo
que dispomos de todas as estruturas intermediárias e funções necessárias.
Ou seja, vamos escrever o código usando, por exemplo, uma função "<code>abc(x)</code>" 
sem termos definido "<code>abc</code>" ainda, e tendo concluído o código principal 
definimos "<code>abc</code>" (pois se não o código não funcionará).</p>
<h3 id="topico-71-arquitetando-o-codigo">Tópico 7.1: Arquitetando o código</h3>
<p>Vamos pensar nas estruturas a serem utilizadas em cada
passo.</p>
<h4 id="1-comecamos-informando-a-funcao-que-queremos-encontrar-o-0-e-o-intervalo-onde-iremos-comecar-a-busca">1. Começamos informando a função que queremos encontrar o 0, e o intervalo onde iremos começar a busca</h4>
<ul>
<li>Neste primeiro passo, precisamos pensar em como forneceremos os
  dados de entrada. Não queremos que nosso programa seja específico
  para uma função, mas sim para um grande conjunto de funções. Vamos,
  portanto, fazer um módulo a parte do programa principal, que seja
  importado pelo programa e disponibilize essas funções quando
  necessárias. Para fins de teste, vamos declarar um polinômio  <script type="math/tex">f(x) =  x^3 - x - 2</script> como função neste módulo.</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>    module funcoes
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>        implicit none
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>    contains
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a>        ! Polinômio: x^3 - x - 2
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a>        function f(x) result(y)
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a>            real, intent(in) :: x
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a>            real :: y
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a>            y = x**3 - x - 2
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a>        end function f
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a>    end module funcoes
</span></code></pre></div>
<ul>
<li>Já o intervalo gostaríamos de ter maior liberdade de escolha,
  pois podemos fazer várias escolhas de onde começar a busca. Vamos,
  então, definir no programa as variáveis a serem utilizadas,
  que nomearemos <code>a</code> e <code>b</code>.</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>    program main
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>        use funcoes
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>        use, intrinsic :: iso_fortran_env
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>        implicit none
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>        real(real64) :: resultado
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>        real(real64) :: a = 1
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>        real(real64) :: b = 2
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a>
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a>    end program main
</span></code></pre></div>
<ul>
<li>Por fim, percebendo que o método recebe como entrada um conjunto de valores
  e retorna como resultado um único valor (um <script type="math/tex">x</script> tal que <script type="math/tex">f(x) = 0</script>), podemos modelar o
  método como uma função. Por questão de organização, vamos colocar o
  método num módulo próprio e usá-lo no programa principal. Vamos
  escolher, por conveniência, trabalhar com precisão dupla.</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>    module metodos
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>        use funcoes
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>        implicit none
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a>    contains
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>        function bissecao(a, b) result(raiz)
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>              ! Limite inferior do intervalo
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>              real(real64), intent(in) :: a
</span><span id="__span-55-9"><a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a>
</span><span id="__span-55-10"><a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a>              ! Limite superior do intervalo
</span><span id="__span-55-11"><a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a>              real(real64), intent(in) :: b
</span><span id="__span-55-12"><a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a>
</span><span id="__span-55-13"><a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a>              ! Valor de x tal que f(x) = 0
</span><span id="__span-55-14"><a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a>              real(real64) :: raiz
</span><span id="__span-55-15"><a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a>
</span><span id="__span-55-16"><a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a>        end function bissecao
</span><span id="__span-55-17"><a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a>    end module metodos
</span><span id="__span-55-18"><a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a>
</span><span id="__span-55-19"><a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a>    program main
</span><span id="__span-55-20"><a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a>        use funcoes
</span><span id="__span-55-21"><a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a>        use metodos
</span><span id="__span-55-22"><a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a>        use, intrinsic :: iso_fortran_env
</span><span id="__span-55-23"><a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a>        implicit none
</span><span id="__span-55-24"><a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a>
</span><span id="__span-55-25"><a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a>        real(real64) :: resultado
</span><span id="__span-55-26"><a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a>        real(real64) :: a = 1
</span><span id="__span-55-27"><a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a>        real(real64) :: b = 2
</span><span id="__span-55-28"><a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a>
</span><span id="__span-55-29"><a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a>        resultado = bissecao(a, b)
</span><span id="__span-55-30"><a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a>    end program main
</span></code></pre></div>
<h4 id="2-calculamos-o-ponto-medio-do-intervalo">2. Calculamos o ponto médio do intervalo</h4>
<p>Aqui criamos uma variável a mais em nossa função da bisseção e
realizamos a média simples dos limites do intervalo para calcular o ponto médio. 
Para evitar reexibir todo o código,
vamos mostrar apenas a função de bissecao, que será alterada:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>    function bissecao(a, b) result(raiz)
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>        ! Limite inferior do intervalo
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a>        real(real64), intent(in) :: a
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>        ! Limite superior do intervalo
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a>        real(real64), intent(in) :: b
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a>        ! Valor de x tal que f(x) = 0
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a>        real(real64) :: raiz
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a>        ! Ponto médio
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a>        real(real64) :: p_medio
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a>
</span><span id="__span-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a>        p_medio = (a+b)/2
</span><span id="__span-56-15"><a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a>
</span><span id="__span-56-16"><a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a>    end function bissecao
</span></code></pre></div>
<h4 id="3-verificamos-se-a-funcao-neste-ponto-e-0">3. Verificamos se a função neste ponto é 0.</h4>
<h4 id="4-se-sim-retornamos-este-ponto-e-terminamos">4. Se sim, retornamos este ponto e terminamos</h4>
<p>Estes 2 passos podem ser feitos por um teste condicional</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>    function bissecao(a, b) result(raiz)
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>        ! Limite inferior do intervalo
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>        real(real64), intent(in) :: a
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a>        ! Limite superior do intervalo
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>        real(real64), intent(in) :: b
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a>        ! Valor de x tal que f(x) = 0
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a>        real(real64) :: raiz
</span><span id="__span-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a>
</span><span id="__span-57-11"><a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a>        ! Ponto médio
</span><span id="__span-57-12"><a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a>        real(real64) :: p_medio
</span><span id="__span-57-13"><a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a>
</span><span id="__span-57-14"><a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a>        p_medio = (a+b)/2
</span><span id="__span-57-15"><a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a>
</span><span id="__span-57-16"><a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a>        if (f(p_medio) == 0) then
</span><span id="__span-57-17"><a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a>            raiz = p_medio
</span><span id="__span-57-18"><a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a>            return
</span><span id="__span-57-19"><a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a>        end if
</span><span id="__span-57-20"><a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a>
</span><span id="__span-57-21"><a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a>    end function bissecao
</span></code></pre></div>
<h4 id="5-se-nao-analisamos-o-sinal-da-funcao-neste-ponto-e-determinamos-um-novo-intervalo">5. Se não, analisamos o sinal da função neste ponto e determinamos um novo intervalo</h4>
<p>Diferente dos passos anteriores, "fazer a análise de sinal da função e determinar um novo intervalo" não é
uma tarefa de poucas instruções. Porém, como o próprio algoritmo nos mostra, também não queremos colocar
todo o trecho de código diretamente na função pois isso não deixa claro o que este grande
conjunto de instruções faz. Para manter uma boa legibilidade e modularidade de código, vamos colocar esta etapa
em uma <strong>subrotina</strong>. Faremos a especificação e ajustes referentes à subrotina após terminamos a construção da
função principal.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>    function bissecao(a, b) result(raiz)
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>        ! Limite inferior do intervalo
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>        real(real64), intent(in) :: a
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a>        ! Limite superior do intervalo
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a>        real(real64), intent(in) :: b
</span><span id="__span-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a>
</span><span id="__span-58-8"><a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a>        ! Valor de x tal que f(x) = 0
</span><span id="__span-58-9"><a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a>        real(real64) :: raiz
</span><span id="__span-58-10"><a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a>
</span><span id="__span-58-11"><a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a>        ! Ponto médio
</span><span id="__span-58-12"><a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a>        real(real64) :: p_medio
</span><span id="__span-58-13"><a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a>
</span><span id="__span-58-14"><a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a>        p_medio = (a+b)/2
</span><span id="__span-58-15"><a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a>
</span><span id="__span-58-16"><a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a>        if (f(p_medio) == 0) then
</span><span id="__span-58-17"><a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a>            raiz = p_medio
</span><span id="__span-58-18"><a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a>            return
</span><span id="__span-58-19"><a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a>        else
</span><span id="__span-58-20"><a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a>            call novo_intervalo(a, b)
</span><span id="__span-58-21"><a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a>        end if
</span><span id="__span-58-22"><a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a>    end function bissecao
</span></code></pre></div>
<h4 id="6-repetimos-a-partir-do-passo-2-ate-um-criterio-de-parada-como-um-numero-maximo-de-passos-para-evitarmos-um-loop-infinito">6. Repetimos, a partir do passo 2, até um critério de parada (como um número máximo de passos), para evitarmos um loop infinito.</h4>
<p>Para repetir estes passos, envolvemos o trecho do programa em um laço <code>do</code>, criando uma variável de
iteração. Quanto ao critério de parada, é de bom tom que seja um parâmetro que possa ser escolhido por execução.
Logo, receberemos esta informação como argumento de chamada da função.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>    function bissecao(a, b, n_passos) result(raiz)
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>        ! Limite inferior do intervalo
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>        real(real64), intent(in) :: a
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a>        ! Limite superior do intervalo
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>        real(real64), intent(in) :: b
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a>        ! Nº máximo de passos
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a>        integer, intent(in) :: n_passos
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a>
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a>        ! Valor de x tal que f(x) = 0
</span><span id="__span-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a>        real(real64) :: raiz
</span><span id="__span-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a>
</span><span id="__span-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a>        ! Ponto médio
</span><span id="__span-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a>        real(real64) :: p_medio
</span><span id="__span-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a>
</span><span id="__span-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a>        ! Variável do loop
</span><span id="__span-59-18"><a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a>        integer :: i
</span><span id="__span-59-19"><a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a>
</span><span id="__span-59-20"><a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a>        do i = 1, n_passos
</span><span id="__span-59-21"><a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a>            p_medio = (a+b)/2
</span><span id="__span-59-22"><a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a>            if (f(p_medio) == 0) then
</span><span id="__span-59-23"><a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a>                raiz = p_medio
</span><span id="__span-59-24"><a id="__codelineno-59-24" name="__codelineno-59-24" href="#__codelineno-59-24"></a>                return
</span><span id="__span-59-25"><a id="__codelineno-59-25" name="__codelineno-59-25" href="#__codelineno-59-25"></a>            else
</span><span id="__span-59-26"><a id="__codelineno-59-26" name="__codelineno-59-26" href="#__codelineno-59-26"></a>                call novo_intervalo(a, b)
</span><span id="__span-59-27"><a id="__codelineno-59-27" name="__codelineno-59-27" href="#__codelineno-59-27"></a>            end if
</span><span id="__span-59-28"><a id="__codelineno-59-28" name="__codelineno-59-28" href="#__codelineno-59-28"></a>        end do
</span><span id="__span-59-29"><a id="__codelineno-59-29" name="__codelineno-59-29" href="#__codelineno-59-29"></a>    end function bissecao
</span></code></pre></div>
<p>E nossa implementação está quase pronta, a menos da especificação da subrotina <code>novo_intervalo</code>.</p>
<h4 id="especificacao-do-item-5">Especificação do item 5</h4>
<p>Nossa subrotina irá receber um par <script type="math/tex">(a, b)</script> que representa o intervalo atual da busca e retornará um novo par <script type="math/tex">(a^\star, b^\star)</script>. Portanto, note que a maneira como estamos chamando a subrotina em nossa função de bisseção não é boa, pois <code>a, b</code> são parâmetros da função <code>bissecao</code>. E como vimos na Seção 3, não devemos alterar parâmetros passados para uma função. Vamos começar, portanto, mudando nossa função de bisseção para trabalhar com variáveis cópias dos parâmetros originais</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>    function bissecao(a, b, n_passos) result(raiz)
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>        ! Limite inferior do intervalo
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>        real(real64), intent(in) :: a
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>        ! Limite superior do intervalo
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a>        real(real64), intent(in) :: b
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a>        ! Variável LOCAL do limite inferior do intervalo
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a>        real(real64) :: inf
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a>
</span><span id="__span-60-11"><a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a>        ! Variável LOCAL do limite superior do intervalo
</span><span id="__span-60-12"><a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a>        real(real64) :: sup
</span><span id="__span-60-13"><a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a>
</span><span id="__span-60-14"><a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a>        ! Nº máximo de passos
</span><span id="__span-60-15"><a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a>        integer, intent(in) :: n_passos
</span><span id="__span-60-16"><a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a>
</span><span id="__span-60-17"><a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a>        ! Valor de x tal que f(x) = 0
</span><span id="__span-60-18"><a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a>        real(real64) :: raiz
</span><span id="__span-60-19"><a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a>
</span><span id="__span-60-20"><a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a>        ! Ponto médio
</span><span id="__span-60-21"><a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a>        real(real64) :: p_medio
</span><span id="__span-60-22"><a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a>
</span><span id="__span-60-23"><a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a>        ! Variável do loop
</span><span id="__span-60-24"><a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a>        integer :: i
</span><span id="__span-60-25"><a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a>
</span><span id="__span-60-26"><a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a>        inf = a
</span><span id="__span-60-27"><a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a>        sup = b
</span><span id="__span-60-28"><a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a>
</span><span id="__span-60-29"><a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a>        do i = 1, n_passos
</span><span id="__span-60-30"><a id="__codelineno-60-30" name="__codelineno-60-30" href="#__codelineno-60-30"></a>            p_medio = (inf+sup)/2
</span><span id="__span-60-31"><a id="__codelineno-60-31" name="__codelineno-60-31" href="#__codelineno-60-31"></a>            if (f(p_medio) == 0) then
</span><span id="__span-60-32"><a id="__codelineno-60-32" name="__codelineno-60-32" href="#__codelineno-60-32"></a>                raiz = p_medio
</span><span id="__span-60-33"><a id="__codelineno-60-33" name="__codelineno-60-33" href="#__codelineno-60-33"></a>                return
</span><span id="__span-60-34"><a id="__codelineno-60-34" name="__codelineno-60-34" href="#__codelineno-60-34"></a>            else
</span><span id="__span-60-35"><a id="__codelineno-60-35" name="__codelineno-60-35" href="#__codelineno-60-35"></a>                call novo_intervalo(inf, sup)
</span><span id="__span-60-36"><a id="__codelineno-60-36" name="__codelineno-60-36" href="#__codelineno-60-36"></a>            end if
</span><span id="__span-60-37"><a id="__codelineno-60-37" name="__codelineno-60-37" href="#__codelineno-60-37"></a>        end do
</span><span id="__span-60-38"><a id="__codelineno-60-38" name="__codelineno-60-38" href="#__codelineno-60-38"></a>    end function bissecao
</span></code></pre></div>
<p>Agora que estamos chamando a subrotina propriamente, vamos definir melhor sua lógica interna.</p>
<ol>
<li>Primeiro calculamos o ponto médio do intervalo (<code>c</code>)</li>
<li>Calculamos <code>f</code> aplicada no ponto médio e <code>f</code> aplicada no limite inferior do intervalo (<code>inf</code>)</li>
<li>Se <code>f</code> aplicada em <code>c</code> tiver o mesmo sinal de <code>f</code> aplicada em <code>inf</code>, o novo intervalo é (<code>c, sup</code>)</li>
<li>Caso contrário, então sabemos que <code>f</code> aplicada em <code>c</code> tem o mesmo sinal que <code>f</code> aplicada em <code>sup</code>, e o novo intervalo é (<code>inf, c</code>)</li>
</ol>
<h5 id="51-calcular-o-ponto-medio-do-intervalo">5.1 Calcular o ponto médio do intervalo</h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>    subroutine novo_intervalo(inf, sup)
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>        real(real64), intent(inout) :: inf
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>        real(real64), intent(inout) :: sup
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>        real(real64) :: c
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a>        c = (inf+sup)/2
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>    end subroutine novo_intervalo
</span></code></pre></div>
<h5 id="52-calcular-finf-e-fc">5.2 Calcular <code>f(inf)</code> e <code>f(c)</code></h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>    subroutine novo_intervalo(inf, sup)
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>        real(real64), intent(inout) :: inf
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>        real(real64), intent(inout) :: sup
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>        real(real64) :: c
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>        real(real64) :: sinal_f_inf
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a>        real(real64) :: sinal_f_c
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a>        real(real64) :: novo_inf
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a>        real(real64) :: novo_sup
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a>
</span><span id="__span-62-10"><a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a>        c = (inf+sup)/2
</span><span id="__span-62-11"><a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a>
</span><span id="__span-62-12"><a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a>        f_em_inf = f(inf)
</span><span id="__span-62-13"><a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a>        f_em_c = f(c)
</span><span id="__span-62-14"><a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a>    end subroutine novo_intervalo
</span></code></pre></div>
<h5 id="53-testar-sinal-e-determinar-um-novo-intervalo">5.3 Testar sinal e determinar um novo intervalo</h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>    subroutine novo_intervalo(inf, sup)
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>        real(real64), intent(inout) :: inf
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>        real(real64), intent(inout) :: sup
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a>        real(real64) :: c
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a>        real(real64) :: sinal_f_inf
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a>        real(real64) :: sinal_f_c
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a>        real(real64) :: novo_inf
</span><span id="__span-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a>        real(real64) :: novo_sup
</span><span id="__span-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a>
</span><span id="__span-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a>        c = (inf+sup)/2
</span><span id="__span-63-11"><a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a>
</span><span id="__span-63-12"><a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a>        f_em_inf = f(inf)
</span><span id="__span-63-13"><a id="__codelineno-63-13" name="__codelineno-63-13" href="#__codelineno-63-13"></a>        f_em_c = f(c)
</span><span id="__span-63-14"><a id="__codelineno-63-14" name="__codelineno-63-14" href="#__codelineno-63-14"></a>
</span><span id="__span-63-15"><a id="__codelineno-63-15" name="__codelineno-63-15" href="#__codelineno-63-15"></a>        sinal_f_inf = sign(1.0_real64, f_em_inf)
</span><span id="__span-63-16"><a id="__codelineno-63-16" name="__codelineno-63-16" href="#__codelineno-63-16"></a>        sinal_f_c = sign(1.0_real64, f_em_c)
</span><span id="__span-63-17"><a id="__codelineno-63-17" name="__codelineno-63-17" href="#__codelineno-63-17"></a>
</span><span id="__span-63-18"><a id="__codelineno-63-18" name="__codelineno-63-18" href="#__codelineno-63-18"></a>        if (sinal_f_inf == sinal_f_c) then
</span><span id="__span-63-19"><a id="__codelineno-63-19" name="__codelineno-63-19" href="#__codelineno-63-19"></a>            novo_inf = c
</span><span id="__span-63-20"><a id="__codelineno-63-20" name="__codelineno-63-20" href="#__codelineno-63-20"></a>            novo_sup = sup
</span><span id="__span-63-21"><a id="__codelineno-63-21" name="__codelineno-63-21" href="#__codelineno-63-21"></a>        end if
</span><span id="__span-63-22"><a id="__codelineno-63-22" name="__codelineno-63-22" href="#__codelineno-63-22"></a>
</span><span id="__span-63-23"><a id="__codelineno-63-23" name="__codelineno-63-23" href="#__codelineno-63-23"></a>        inf = novo_inf
</span><span id="__span-63-24"><a id="__codelineno-63-24" name="__codelineno-63-24" href="#__codelineno-63-24"></a>        sup = novo_sup
</span><span id="__span-63-25"><a id="__codelineno-63-25" name="__codelineno-63-25" href="#__codelineno-63-25"></a>    end subroutine novo_intervalo
</span></code></pre></div>
<h5 id="54-determinar-outro-novo-intervalo-caso-o-primeiro-teste-tenha-falhado">5.4 Determinar outro novo intervalo caso o primeiro teste tenha falhado</h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>    subroutine novo_intervalo(inf, sup)
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>        real(real64), intent(inout) :: inf
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>        real(real64), intent(inout) :: sup
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a>        real(real64) :: c
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a>        real(real64) :: sinal_f_inf
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a>        real(real64) :: sinal_f_c
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a>        real(real64) :: novo_inf
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a>        real(real64) :: novo_sup
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a>
</span><span id="__span-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a>        c = (inf+sup)/2
</span><span id="__span-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a>
</span><span id="__span-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a>        f_em_inf = f(inf)
</span><span id="__span-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a>        f_em_c = f(c)
</span><span id="__span-64-14"><a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a>
</span><span id="__span-64-15"><a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a>        sinal_f_inf = sign(1.0_real64, f_em_inf)
</span><span id="__span-64-16"><a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a>        sinal_f_c = sign(1.0_real64, f_em_c)
</span><span id="__span-64-17"><a id="__codelineno-64-17" name="__codelineno-64-17" href="#__codelineno-64-17"></a>
</span><span id="__span-64-18"><a id="__codelineno-64-18" name="__codelineno-64-18" href="#__codelineno-64-18"></a>        if (sinal_f_inf == sinal_f_c) then
</span><span id="__span-64-19"><a id="__codelineno-64-19" name="__codelineno-64-19" href="#__codelineno-64-19"></a>            novo_inf = c
</span><span id="__span-64-20"><a id="__codelineno-64-20" name="__codelineno-64-20" href="#__codelineno-64-20"></a>            novo_sup = sup  
</span><span id="__span-64-21"><a id="__codelineno-64-21" name="__codelineno-64-21" href="#__codelineno-64-21"></a>        else
</span><span id="__span-64-22"><a id="__codelineno-64-22" name="__codelineno-64-22" href="#__codelineno-64-22"></a>            novo_inf = inf
</span><span id="__span-64-23"><a id="__codelineno-64-23" name="__codelineno-64-23" href="#__codelineno-64-23"></a>            novo_sup = c
</span><span id="__span-64-24"><a id="__codelineno-64-24" name="__codelineno-64-24" href="#__codelineno-64-24"></a>        end if
</span><span id="__span-64-25"><a id="__codelineno-64-25" name="__codelineno-64-25" href="#__codelineno-64-25"></a>
</span><span id="__span-64-26"><a id="__codelineno-64-26" name="__codelineno-64-26" href="#__codelineno-64-26"></a>        inf = novo_inf
</span><span id="__span-64-27"><a id="__codelineno-64-27" name="__codelineno-64-27" href="#__codelineno-64-27"></a>        sup = novo_sup
</span><span id="__span-64-28"><a id="__codelineno-64-28" name="__codelineno-64-28" href="#__codelineno-64-28"></a>    end subroutine novo_intervalo
</span></code></pre></div>
<h3 id="topico-72-codigo-final">Tópico 7.2: Código Final</h3>
<p>Juntando os trechos finais de código desenvolvidos acima temos a nossa primeira versão do programa:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a>    module funcoes
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>        use, intrinsic :: iso_fortran_env
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>        implicit none
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a>    contains    
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a>        ! Polinômio: x^3 - x - 2
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a>        function f(x) result(y)
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a>            real(real64), intent(in) :: x
</span><span id="__span-65-9"><a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a>            real(real64) :: y
</span><span id="__span-65-10"><a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a>
</span><span id="__span-65-11"><a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a>            y = x**3 - x - 2
</span><span id="__span-65-12"><a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a>        end function f
</span><span id="__span-65-13"><a id="__codelineno-65-13" name="__codelineno-65-13" href="#__codelineno-65-13"></a>    end module funcoes
</span><span id="__span-65-14"><a id="__codelineno-65-14" name="__codelineno-65-14" href="#__codelineno-65-14"></a>
</span><span id="__span-65-15"><a id="__codelineno-65-15" name="__codelineno-65-15" href="#__codelineno-65-15"></a>    module metodos
</span><span id="__span-65-16"><a id="__codelineno-65-16" name="__codelineno-65-16" href="#__codelineno-65-16"></a>        use funcoes
</span><span id="__span-65-17"><a id="__codelineno-65-17" name="__codelineno-65-17" href="#__codelineno-65-17"></a>        implicit none
</span><span id="__span-65-18"><a id="__codelineno-65-18" name="__codelineno-65-18" href="#__codelineno-65-18"></a>
</span><span id="__span-65-19"><a id="__codelineno-65-19" name="__codelineno-65-19" href="#__codelineno-65-19"></a>    contains
</span><span id="__span-65-20"><a id="__codelineno-65-20" name="__codelineno-65-20" href="#__codelineno-65-20"></a>        subroutine novo_intervalo(inf, sup)
</span><span id="__span-65-21"><a id="__codelineno-65-21" name="__codelineno-65-21" href="#__codelineno-65-21"></a>            real(real64), intent(inout) :: inf
</span><span id="__span-65-22"><a id="__codelineno-65-22" name="__codelineno-65-22" href="#__codelineno-65-22"></a>            real(real64), intent(inout) :: sup
</span><span id="__span-65-23"><a id="__codelineno-65-23" name="__codelineno-65-23" href="#__codelineno-65-23"></a>            real(real64) :: c
</span><span id="__span-65-24"><a id="__codelineno-65-24" name="__codelineno-65-24" href="#__codelineno-65-24"></a>            real(real64) :: sinal_f_inf
</span><span id="__span-65-25"><a id="__codelineno-65-25" name="__codelineno-65-25" href="#__codelineno-65-25"></a>            real(real64) :: sinal_f_c
</span><span id="__span-65-26"><a id="__codelineno-65-26" name="__codelineno-65-26" href="#__codelineno-65-26"></a>            real(real64) :: novo_inf
</span><span id="__span-65-27"><a id="__codelineno-65-27" name="__codelineno-65-27" href="#__codelineno-65-27"></a>            real(real64) :: novo_sup
</span><span id="__span-65-28"><a id="__codelineno-65-28" name="__codelineno-65-28" href="#__codelineno-65-28"></a>
</span><span id="__span-65-29"><a id="__codelineno-65-29" name="__codelineno-65-29" href="#__codelineno-65-29"></a>            c = (inf+sup)/2
</span><span id="__span-65-30"><a id="__codelineno-65-30" name="__codelineno-65-30" href="#__codelineno-65-30"></a>            sinal_f_inf = sign(1.0_real64, f(inf))
</span><span id="__span-65-31"><a id="__codelineno-65-31" name="__codelineno-65-31" href="#__codelineno-65-31"></a>            sinal_f_c = sign(1.0_real64, f(c))
</span><span id="__span-65-32"><a id="__codelineno-65-32" name="__codelineno-65-32" href="#__codelineno-65-32"></a>
</span><span id="__span-65-33"><a id="__codelineno-65-33" name="__codelineno-65-33" href="#__codelineno-65-33"></a>            if (sinal_f_inf == sinal_f_c) then
</span><span id="__span-65-34"><a id="__codelineno-65-34" name="__codelineno-65-34" href="#__codelineno-65-34"></a>                novo_inf = c
</span><span id="__span-65-35"><a id="__codelineno-65-35" name="__codelineno-65-35" href="#__codelineno-65-35"></a>                novo_sup = sup
</span><span id="__span-65-36"><a id="__codelineno-65-36" name="__codelineno-65-36" href="#__codelineno-65-36"></a>
</span><span id="__span-65-37"><a id="__codelineno-65-37" name="__codelineno-65-37" href="#__codelineno-65-37"></a>            else
</span><span id="__span-65-38"><a id="__codelineno-65-38" name="__codelineno-65-38" href="#__codelineno-65-38"></a>                novo_inf = inf
</span><span id="__span-65-39"><a id="__codelineno-65-39" name="__codelineno-65-39" href="#__codelineno-65-39"></a>                novo_sup = c
</span><span id="__span-65-40"><a id="__codelineno-65-40" name="__codelineno-65-40" href="#__codelineno-65-40"></a>            end if
</span><span id="__span-65-41"><a id="__codelineno-65-41" name="__codelineno-65-41" href="#__codelineno-65-41"></a>
</span><span id="__span-65-42"><a id="__codelineno-65-42" name="__codelineno-65-42" href="#__codelineno-65-42"></a>            inf = novo_inf
</span><span id="__span-65-43"><a id="__codelineno-65-43" name="__codelineno-65-43" href="#__codelineno-65-43"></a>            sup = novo_sup
</span><span id="__span-65-44"><a id="__codelineno-65-44" name="__codelineno-65-44" href="#__codelineno-65-44"></a>        end subroutine novo_intervalo
</span><span id="__span-65-45"><a id="__codelineno-65-45" name="__codelineno-65-45" href="#__codelineno-65-45"></a>
</span><span id="__span-65-46"><a id="__codelineno-65-46" name="__codelineno-65-46" href="#__codelineno-65-46"></a>        function bissecao(a, b, n_passos) result(raiz)  
</span><span id="__span-65-47"><a id="__codelineno-65-47" name="__codelineno-65-47" href="#__codelineno-65-47"></a>            ! Limite inferior do intervalo
</span><span id="__span-65-48"><a id="__codelineno-65-48" name="__codelineno-65-48" href="#__codelineno-65-48"></a>            real(real64), intent(in) :: a                           
</span><span id="__span-65-49"><a id="__codelineno-65-49" name="__codelineno-65-49" href="#__codelineno-65-49"></a>
</span><span id="__span-65-50"><a id="__codelineno-65-50" name="__codelineno-65-50" href="#__codelineno-65-50"></a>            ! Limite superior do intervalo
</span><span id="__span-65-51"><a id="__codelineno-65-51" name="__codelineno-65-51" href="#__codelineno-65-51"></a>            real(real64), intent(in) :: b 
</span><span id="__span-65-52"><a id="__codelineno-65-52" name="__codelineno-65-52" href="#__codelineno-65-52"></a>
</span><span id="__span-65-53"><a id="__codelineno-65-53" name="__codelineno-65-53" href="#__codelineno-65-53"></a>            ! Nº máximo de passos 
</span><span id="__span-65-54"><a id="__codelineno-65-54" name="__codelineno-65-54" href="#__codelineno-65-54"></a>            integer, intent(in) :: n_passos 
</span><span id="__span-65-55"><a id="__codelineno-65-55" name="__codelineno-65-55" href="#__codelineno-65-55"></a>
</span><span id="__span-65-56"><a id="__codelineno-65-56" name="__codelineno-65-56" href="#__codelineno-65-56"></a>            ! Valor de x tal que f(x) = 0
</span><span id="__span-65-57"><a id="__codelineno-65-57" name="__codelineno-65-57" href="#__codelineno-65-57"></a>            real(real64) :: raiz 
</span><span id="__span-65-58"><a id="__codelineno-65-58" name="__codelineno-65-58" href="#__codelineno-65-58"></a>
</span><span id="__span-65-59"><a id="__codelineno-65-59" name="__codelineno-65-59" href="#__codelineno-65-59"></a>            ! Ponto médio
</span><span id="__span-65-60"><a id="__codelineno-65-60" name="__codelineno-65-60" href="#__codelineno-65-60"></a>            real(real64) :: p_medio
</span><span id="__span-65-61"><a id="__codelineno-65-61" name="__codelineno-65-61" href="#__codelineno-65-61"></a>
</span><span id="__span-65-62"><a id="__codelineno-65-62" name="__codelineno-65-62" href="#__codelineno-65-62"></a>            ! Variável LOCAL do limite inferior do intervalo
</span><span id="__span-65-63"><a id="__codelineno-65-63" name="__codelineno-65-63" href="#__codelineno-65-63"></a>            real(real64) :: inf
</span><span id="__span-65-64"><a id="__codelineno-65-64" name="__codelineno-65-64" href="#__codelineno-65-64"></a>
</span><span id="__span-65-65"><a id="__codelineno-65-65" name="__codelineno-65-65" href="#__codelineno-65-65"></a>            ! Variável LOCAL do limite superior do intervalo
</span><span id="__span-65-66"><a id="__codelineno-65-66" name="__codelineno-65-66" href="#__codelineno-65-66"></a>            real(real64) :: sup
</span><span id="__span-65-67"><a id="__codelineno-65-67" name="__codelineno-65-67" href="#__codelineno-65-67"></a>
</span><span id="__span-65-68"><a id="__codelineno-65-68" name="__codelineno-65-68" href="#__codelineno-65-68"></a>            ! Variável do loop
</span><span id="__span-65-69"><a id="__codelineno-65-69" name="__codelineno-65-69" href="#__codelineno-65-69"></a>            integer :: i
</span><span id="__span-65-70"><a id="__codelineno-65-70" name="__codelineno-65-70" href="#__codelineno-65-70"></a>
</span><span id="__span-65-71"><a id="__codelineno-65-71" name="__codelineno-65-71" href="#__codelineno-65-71"></a>            inf = a
</span><span id="__span-65-72"><a id="__codelineno-65-72" name="__codelineno-65-72" href="#__codelineno-65-72"></a>            sup = b
</span><span id="__span-65-73"><a id="__codelineno-65-73" name="__codelineno-65-73" href="#__codelineno-65-73"></a>
</span><span id="__span-65-74"><a id="__codelineno-65-74" name="__codelineno-65-74" href="#__codelineno-65-74"></a>            do i = 1, n_passos
</span><span id="__span-65-75"><a id="__codelineno-65-75" name="__codelineno-65-75" href="#__codelineno-65-75"></a>                p_medio = (inf+sup)/2
</span><span id="__span-65-76"><a id="__codelineno-65-76" name="__codelineno-65-76" href="#__codelineno-65-76"></a>                if (f(p_medio) == 0) then
</span><span id="__span-65-77"><a id="__codelineno-65-77" name="__codelineno-65-77" href="#__codelineno-65-77"></a>                    raiz = p_medio
</span><span id="__span-65-78"><a id="__codelineno-65-78" name="__codelineno-65-78" href="#__codelineno-65-78"></a>                    return
</span><span id="__span-65-79"><a id="__codelineno-65-79" name="__codelineno-65-79" href="#__codelineno-65-79"></a>
</span><span id="__span-65-80"><a id="__codelineno-65-80" name="__codelineno-65-80" href="#__codelineno-65-80"></a>                else
</span><span id="__span-65-81"><a id="__codelineno-65-81" name="__codelineno-65-81" href="#__codelineno-65-81"></a>                    call novo_intervalo(inf, sup)
</span><span id="__span-65-82"><a id="__codelineno-65-82" name="__codelineno-65-82" href="#__codelineno-65-82"></a>                end if
</span><span id="__span-65-83"><a id="__codelineno-65-83" name="__codelineno-65-83" href="#__codelineno-65-83"></a>            end do
</span><span id="__span-65-84"><a id="__codelineno-65-84" name="__codelineno-65-84" href="#__codelineno-65-84"></a>
</span><span id="__span-65-85"><a id="__codelineno-65-85" name="__codelineno-65-85" href="#__codelineno-65-85"></a>            raiz = p_medio
</span><span id="__span-65-86"><a id="__codelineno-65-86" name="__codelineno-65-86" href="#__codelineno-65-86"></a>        end function bissecao
</span><span id="__span-65-87"><a id="__codelineno-65-87" name="__codelineno-65-87" href="#__codelineno-65-87"></a>    end module metodos
</span><span id="__span-65-88"><a id="__codelineno-65-88" name="__codelineno-65-88" href="#__codelineno-65-88"></a>
</span><span id="__span-65-89"><a id="__codelineno-65-89" name="__codelineno-65-89" href="#__codelineno-65-89"></a>    program main
</span><span id="__span-65-90"><a id="__codelineno-65-90" name="__codelineno-65-90" href="#__codelineno-65-90"></a>        use funcoes
</span><span id="__span-65-91"><a id="__codelineno-65-91" name="__codelineno-65-91" href="#__codelineno-65-91"></a>        use metodos
</span><span id="__span-65-92"><a id="__codelineno-65-92" name="__codelineno-65-92" href="#__codelineno-65-92"></a>        use, intrinsic :: iso_fortran_env
</span><span id="__span-65-93"><a id="__codelineno-65-93" name="__codelineno-65-93" href="#__codelineno-65-93"></a>        implicit none
</span><span id="__span-65-94"><a id="__codelineno-65-94" name="__codelineno-65-94" href="#__codelineno-65-94"></a>
</span><span id="__span-65-95"><a id="__codelineno-65-95" name="__codelineno-65-95" href="#__codelineno-65-95"></a>        real(real64) :: resultado
</span><span id="__span-65-96"><a id="__codelineno-65-96" name="__codelineno-65-96" href="#__codelineno-65-96"></a>        real(real64) :: a = 1
</span><span id="__span-65-97"><a id="__codelineno-65-97" name="__codelineno-65-97" href="#__codelineno-65-97"></a>        real(real64) :: b = 2
</span><span id="__span-65-98"><a id="__codelineno-65-98" name="__codelineno-65-98" href="#__codelineno-65-98"></a>        integer :: n_passos = 20
</span><span id="__span-65-99"><a id="__codelineno-65-99" name="__codelineno-65-99" href="#__codelineno-65-99"></a>
</span><span id="__span-65-100"><a id="__codelineno-65-100" name="__codelineno-65-100" href="#__codelineno-65-100"></a>        resultado = bissecao(a, b, n_passos)
</span><span id="__span-65-101"><a id="__codelineno-65-101" name="__codelineno-65-101" href="#__codelineno-65-101"></a>        print *, resultado
</span><span id="__span-65-102"><a id="__codelineno-65-102" name="__codelineno-65-102" href="#__codelineno-65-102"></a>    end program main
</span></code></pre></div>
<h4 id="testes">Testes</h4>
<p>Rodando nosso programa para o polinômio de teste <script type="math/tex">x^3 - x - 2</script>, começando pelo intervalo <script type="math/tex">[1, 2]</script> e iterando por 22 passos (valores acima na <code>main</code>) obtemos como saída:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a>1.5213804244995117
</span></code></pre></div>
<p>E avaliando <code>f(resultado)</code> a saída é <code>4.2658294048258938E-006</code>, que está próximo de 0 e portanto indica que a saída do programa está próxima da raiz do polinômio. Se aumentarmos o número de iterações fazendo <code>n_passos = 50</code>, o programa retorna:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>1.5213797068045674
</span></code></pre></div>
<p>E avaliando para esta saída <code>f(resultado)</code> obtemos <code>-1.3322676295501878E-015</code>, um resultado ainda melhor e que faz jus ao resultado teórico convergente: quanto mais passos, melhor a aproximação.</p>
<p>Vamos testar para uma outra função mais desafiadora? Troquemos o polinômio pela função
<script type="math/tex; mode=display">f(x) = \frac{cos(x) x^5}{e^x} + 1</script>
</p>
<p>Observando o gráfico da função, sabemos que esta função possui raízes próximas do valor 10:</p>
<p><img alt="graph of f" src="../f90_content/function_graph.png" /></p>
<p>Vamos buscar um valor mais preciso para a raiz logo depois do 10 e antes do 12. Para isso, basta mudarmos nossa função <code>f</code> no módulo de funções:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>    function f(x) result(y)
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>        real(real64), intent(in) :: x
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a>        real(real64) :: y
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a>        y = ((cos(x) * x**5) / exp(x)) + 1
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a>    end function f
</span></code></pre></div>
<p>E podemos utilizar como intervalo de chute inicial <script type="math/tex">[10, 12]</script> , ou seja, fazemos <code>a = 10</code> e <code>b = 12</code> no programa <code>main</code>. Com 50 passos temos que a raiz é:</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>10.677725261441926     
</span></code></pre></div>
E nossa nova <code>f</code> avaliada neste ponto é <code>-1.7763568394002505E-015</code>; temos uma ótima aproximação. </p>
<p>Fazer com que nosso algoritmo aceite uma função <code>f</code> externa qualquer não é trivial, logo estamos satisfeitos, por hora, com este procedimento de trocar a declaração de <code>f</code> explicitamente no código. Caso fique curioso sobre como é feita esta implementação mais genérica, ela envolve uso de uma estrutura ainda não apresentada: <code>interface</code>.</p>
<h2 id="topico-8-formatacao-de-saidas-write">Tópico 8: Formatação de Saídas: WRITE</h2>
<p>Até o momento utilizamos apenas a função <code>print</code> para exibirmos resultados em nossos códigos. Porém, caso queiramos mostrar saídas um pouco melhor elaboradas e formatadas, o uso da função <code>print</code> não é o mais adequado. Isso porque esta função foi criada para exibir resultados utilizando uma formatação específica, pensada na compatibilidade com antigas impressoras e dispositivos de saída utilizados nos anos 60 e 70. </p>
<p>Para utilizar uma formatação de saída personalizada, foi criada a função <code>write</code>, uma alternativa mais flexível que a <code>print</code>.  A função <code>print</code> recebe como primeiro argumento onde será escrita a saída (quando passamos <code>*</code> indicamos que deve ser utilizada a saída padrão do sistema) e logo em seguida passamos todos os argumentos a serem impressos, separados por vírgulas. Já na função <code>write</code>, passamos <strong>entre parênteses</strong> onde será escrita a saída e qual será a formatação a ser utilizada, e então a lista de argumentos a serem impressos, separados por vírgulas. </p>
<p>Logo, a diferença maior está neste segundo argumento de formatação, chamados de "descritores de edição". Como eles funcionam? Bom, existe uma lista de formatadores aceitos que podem variar a depender do compilador sendo utilizado. Vamos utilizar <a href="https://fortranwiki.org/fortran/show/Edit+descriptors">a tabela da Fortran Wiki</a> como referência: </p>
<p><code>w</code> : o número exato de caracteres a serem utilizados</p>
<p><code>m</code> : o número mínimo de caracteres a serem utilizados</p>
<p><code>d</code> : o número de dígitos à direita do ponto decimal</p>
<p><code>e</code> : o número de dígitos no expoente</p>
<table>
<thead>
<tr>
<th>Tipo do dado</th>
<th>Descritores de <br>       Edição</th>
<th>Outra opção</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>integer</code></td>
<td><code>Iw</code></td>
<td><code>Iw.m</code></td>
</tr>
<tr>
<td><code>real</code> (notação decimal)</td>
<td><code>Fw.d</code></td>
<td></td>
</tr>
<tr>
<td><code>real</code> (notação exponencial)</td>
<td><code>Ew.d</code></td>
<td><code>Ew.dEe</code></td>
</tr>
<tr>
<td><code>real</code> (notação científica )</td>
<td><code>ESw.d</code></td>
<td><code>ESw.dEe</code></td>
</tr>
<tr>
<td><code>real</code> (notação de engenharia)</td>
<td><code>ENw.d</code></td>
<td><code>ENw.dEe</code></td>
</tr>
<tr>
<td><code>logical</code></td>
<td><code>Lw</code></td>
<td></td>
</tr>
<tr>
<td><code>character</code></td>
<td><code>A</code></td>
<td><code>Aw</code></td>
</tr>
<tr>
<td>posicionamento horizontal</td>
<td><code>nX</code></td>
<td></td>
</tr>
<tr>
<td>posicionamento de tabulação</td>
<td><code>Tc</code></td>
<td><code>TLc</code>, <code>TRc</code></td>
</tr>
<tr>
<td>posicionamento vertical</td>
<td><code>/</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>Com isso, podemos formatar a atual saída do nosso programa da seguinte forma: 
- Mostrar a string "Raiz encontrada: ", seguida de 12 espaços, seguidos do valor calculado para a raiz (<code>resultado</code>) com 15 casas depois da vírgula.
- Logo em seguida mostrar a string "Função avaliada nessa raiz: ", seguida de 1 espaço, seguido do valor <code>f(resultado)</code> com 15 casas depois da vírgula.</p>
<p>Usando os descritores da tabela acima, alteraremos então o final do nosso programa principal do tópico anterior para:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>    program main
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>        use funcoes
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a>        use metodos
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>        use, intrinsic :: iso_fortran_env
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a>        implicit none
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a>
</span><span id="__span-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a>        real(real64) :: resultado
</span><span id="__span-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a>        real(real64) :: a = 1
</span><span id="__span-70-9"><a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a>        real(real64) :: b = 2
</span><span id="__span-70-10"><a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a>        integer :: n_passos = 22
</span><span id="__span-70-11"><a id="__codelineno-70-11" name="__codelineno-70-11" href="#__codelineno-70-11"></a>
</span><span id="__span-70-12"><a id="__codelineno-70-12" name="__codelineno-70-12" href="#__codelineno-70-12"></a>        resultado = bissecao(a, b, n_passos)
</span><span id="__span-70-13"><a id="__codelineno-70-13" name="__codelineno-70-13" href="#__codelineno-70-13"></a>        write (*,&#39;(A, 12X, F20.15)&#39;) &#39;Raiz encontrada: &#39;, resultado
</span><span id="__span-70-14"><a id="__codelineno-70-14" name="__codelineno-70-14" href="#__codelineno-70-14"></a>        write (*,&#39;(A,  1X, F20.15)&#39;) &#39;Função avaliada nessa raiz: &#39;, f(resultado)
</span><span id="__span-70-15"><a id="__codelineno-70-15" name="__codelineno-70-15" href="#__codelineno-70-15"></a>    end program main
</span></code></pre></div>
<p>E a saída com <script type="math/tex">f(x) = x^3 - x - 2</script> e 20 passos:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>Raiz encontrada:              1.521380424499512
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>Função avaliada nessa raiz:   0.000004265829405
</span></code></pre></div>
<p>Aumentando para 50 passos:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>Raiz encontrada:              1.521379706804567
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>Função avaliada nessa raiz:  -0.000000000000001
</span></code></pre></div>
<p>Trocando o descritor do segundo <code>write</code> de <code>F20.15</code> para <code>E22.15</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a>Raiz encontrada:              1.521379706804567
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>Função avaliada nessa raiz:  -0.133226762955019E-14
</span></code></pre></div>
<p>E podemos utilizar a formatação de saída que nos for mais conveniente. Atenção: note que o número que segue o <code>E</code> e o <code>F</code> dos descritores precisa levar em conta <strong>todos</strong> os caracteres exibidos no argumento de saída (incluindo sinais, pontos, o próprio "E", etc). </p>
<p>A saída "-0.133226762955019E-14" tem exatamente 22 caracteres. Caso colocássemos um número menor que 22 no descritor, a saída sairia mal formatada. Veja o que ocorre quando colocamos <code>E20.15</code> :</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a>Raiz encontrada:              1.521379706804567
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>Função avaliada nessa raiz:  ********************
</span></code></pre></div>
<p>Na dúvida, um tamanho maior que o necessário é melhor que um menor.</p>
<h2 id="topico-9-repeticao-do-while">Tópico 9: Repetição: DO - WHILE</h2>
<p>Para motivar a apresentação da próxima estrutura, notemos uma particularidade do uso do método e a forma como está implementado. Ao
procurar uma solução numérica, geralmente estabelece-se um critério de parada de acordo com uma tolerância sobre o erro da solução.
Porém, da maneira como implementamos o loop principal, nosso algoritmo roda um número fixo de iterações, fornecido como entrada
pelo usuário. Isso faz com que tenha que se chutar um valor de passos a serem executados que gere um erro menor que o esperado e,
caso isso não ocorra, recomeçar o algoritmo do início com um novo chute (agora melhor informado). Esta não é uma boa abordagem, e por
isso mudaremos nosso loop para definir o erro numérico enquanto critério de prosseguimento/parada, utilizando a estrutura <code>DO WHILE</code>.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a>do while (teste_condicional)
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>    ! Código a ser repetido
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>end do
</span></code></pre></div>
<p>O teste condicional deve ser uma expressão lógica (ou uma vaiável lógica, enfim, um valor lógico) que será checado a cada iteração.
Se o teste for verdadeiro (i.e. <code>.true.</code>), a iteração acontecerá. Quando for falso, o loop termina e a próxima instrução após o <code>END DO</code>
é executada. </p>
<p>No nosso problema, o método da bisseção, sabemos que a solução exata é 0. E, portanto, conseguimos calcular o quão distante está a solução numérica calculada em relação ao valor exato. Para isso, implementaremos as seguintes mudanças na função <code>bissecao</code>:</p>
<ul>
<li>Trocar o <code>n_passos</code> por <code>erro_tol</code> (lembrando de fazer o mesmo no programa principal)</li>
<li>Trocar o loop fixo por um loop dinâmico em cima do <code>erro_tol</code></li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>function bissecao(a, b, erro_tol) result(raiz)  
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>        ! Limite inferior do intervalo
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>        real(real64), intent(in) :: a                           
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>        ! Limite superior do intervalo
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>        real(real64), intent(in) :: b 
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a>        ! Erro máximo tolerado  
</span><span id="__span-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a>        real(real64), intent(in) :: erro_tol 
</span><span id="__span-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a>
</span><span id="__span-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a>        ! Valor de x tal que f(x) = 0
</span><span id="__span-76-12"><a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a>        real(real64) :: raiz 
</span><span id="__span-76-13"><a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a>
</span><span id="__span-76-14"><a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a>        ! Ponto médio
</span><span id="__span-76-15"><a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a>        real(real64) :: p_medio
</span><span id="__span-76-16"><a id="__codelineno-76-16" name="__codelineno-76-16" href="#__codelineno-76-16"></a>
</span><span id="__span-76-17"><a id="__codelineno-76-17" name="__codelineno-76-17" href="#__codelineno-76-17"></a>        ! Variável LOCAL do limite inferior do intervalo
</span><span id="__span-76-18"><a id="__codelineno-76-18" name="__codelineno-76-18" href="#__codelineno-76-18"></a>        real(real64) :: inf
</span><span id="__span-76-19"><a id="__codelineno-76-19" name="__codelineno-76-19" href="#__codelineno-76-19"></a>
</span><span id="__span-76-20"><a id="__codelineno-76-20" name="__codelineno-76-20" href="#__codelineno-76-20"></a>        ! Variável LOCAL do limite superior do intervalo
</span><span id="__span-76-21"><a id="__codelineno-76-21" name="__codelineno-76-21" href="#__codelineno-76-21"></a>        real(real64) :: sup
</span><span id="__span-76-22"><a id="__codelineno-76-22" name="__codelineno-76-22" href="#__codelineno-76-22"></a>
</span><span id="__span-76-23"><a id="__codelineno-76-23" name="__codelineno-76-23" href="#__codelineno-76-23"></a>        ! Variável do loop
</span><span id="__span-76-24"><a id="__codelineno-76-24" name="__codelineno-76-24" href="#__codelineno-76-24"></a>        integer :: i
</span><span id="__span-76-25"><a id="__codelineno-76-25" name="__codelineno-76-25" href="#__codelineno-76-25"></a>
</span><span id="__span-76-26"><a id="__codelineno-76-26" name="__codelineno-76-26" href="#__codelineno-76-26"></a>        inf = a
</span><span id="__span-76-27"><a id="__codelineno-76-27" name="__codelineno-76-27" href="#__codelineno-76-27"></a>        sup = b
</span><span id="__span-76-28"><a id="__codelineno-76-28" name="__codelineno-76-28" href="#__codelineno-76-28"></a>
</span><span id="__span-76-29"><a id="__codelineno-76-29" name="__codelineno-76-29" href="#__codelineno-76-29"></a>        p_medio = (inf+sup)/2
</span><span id="__span-76-30"><a id="__codelineno-76-30" name="__codelineno-76-30" href="#__codelineno-76-30"></a>        do while (abs(f(p_medio)) &gt; erro_tol)           
</span><span id="__span-76-31"><a id="__codelineno-76-31" name="__codelineno-76-31" href="#__codelineno-76-31"></a>            call novo_intervalo(inf, sup)
</span><span id="__span-76-32"><a id="__codelineno-76-32" name="__codelineno-76-32" href="#__codelineno-76-32"></a>            p_medio = (inf+sup)/2
</span><span id="__span-76-33"><a id="__codelineno-76-33" name="__codelineno-76-33" href="#__codelineno-76-33"></a>
</span><span id="__span-76-34"><a id="__codelineno-76-34" name="__codelineno-76-34" href="#__codelineno-76-34"></a>        end do
</span><span id="__span-76-35"><a id="__codelineno-76-35" name="__codelineno-76-35" href="#__codelineno-76-35"></a>        raiz = p_medio
</span><span id="__span-76-36"><a id="__codelineno-76-36" name="__codelineno-76-36" href="#__codelineno-76-36"></a>
</span><span id="__span-76-37"><a id="__codelineno-76-37" name="__codelineno-76-37" href="#__codelineno-76-37"></a>    end function bissecao
</span></code></pre></div>
<p>Fazendo <code>erro_tol = 1e-12_real64</code> no programa principal e rodando o código, temos como saída:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>Raiz encontrada:                       1.521379706804510
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>Função avaliada nessa raiz:           -0.000000000000344
</span></code></pre></div>
<p>E agora não é mais necessário o processo de tentativa e erro. É possível juntar as 2 abordagens e definir um limite máximo de iterações
caso não se atinja a tolerância especificada (para evitar possíveis loops infinitos). Pode-se também envolver esta função numa sobrotina
para retornar informações extras como número de passos realizados. </p>
<p>Para alguns outros problemas, onde a solução exata não é conhecida, poderíamos olhar para a diferença entre iterações subsequentes, por exemplo, para estimar convergência e colocar esta diferença como critério de parada do <code>DO WHILE</code>. As possibilidades são muitas, a variar do problema.</p>
<h2 id="topico-10-imports-e-linkagem">Tópico 10: Imports e Linkagem</h2>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>